(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],Array(31).concat([function(e,t,n){e.exports=n.p+"static/media/dice-six-faces-six.e202d07a.svg"},,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/emerald.df0125b6.svg"},,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/sword-brandish.a3fe9ae2.svg"},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/shard-sword.23a923d5.svg"},function(e,t,n){e.exports=n.p+"static/media/spiral-thrust.4b9960c0.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/healing1.e72c5d2c.png"},function(e,t,n){e.exports=n.p+"static/media/fireball.267cc34c.png"},function(e,t,n){e.exports=n.p+"static/media/thunderbolt.bb5d2de7.png"},function(e,t,n){e.exports=n.p+"static/media/dark-blast.155cdf6e.png"},function(e,t,n){e.exports=n.p+"static/media/crippling-blow.f9be9048.png"},function(e,t,n){e.exports=n.p+"static/media/wrath.b68f4b08.png"},function(e,t,n){e.exports=n.p+"static/media/charge.11d38245.png"},function(e,t,n){e.exports=n.p+"static/media/headshot.6549c4b8.png"},function(e,t,n){e.exports=n.p+"static/media/shadow-strike.b9675e5b.png"},function(e,t,n){e.exports=n.p+"static/media/vanish.670b9e64.png"},function(e,t,n){e.exports=n.p+"static/media/inspect.af959ce1.png"},function(e,t,n){e.exports=n.p+"static/media/weapon-attack.1f0b2b4e.png"},function(e,t,n){e.exports=n.p+"static/media/aura.72475924.svg"},function(e,t,n){e.exports=n.p+"static/media/barbute.e93dc754.svg"},function(e,t,n){e.exports=n.p+"static/media/muscular-torso.92dbbc2a.svg"},function(e,t,n){e.exports=n.p+"static/media/hand.9a950e42.svg"},function(e,t,n){e.exports=n.p+"static/media/ring.5187be72.svg"},function(e,t,n){e.exports=n.p+"static/media/footprint.88018ef0.svg"},function(e,t,n){e.exports=n.p+"static/media/quick-slash.1d87b52f.svg"},function(e,t,n){e.exports=n.p+"static/media/barbed-arrow.c6c3f6ae.svg"},function(e,t,n){e.exports=n.p+"static/media/flame.332be8c2.svg"},function(e,t,n){e.exports=n.p+"static/media/bleeding-eye.12de19c6.svg"},function(e,t,n){e.exports=n.p+"static/media/moebius-trefoil.d014b37d.svg"},function(e,t,n){e.exports=n.p+"static/media/triorb.b6fc9ecd.svg"},function(e,t,n){e.exports=n.p+"static/media/shield.2cc62e8a.svg"},function(e,t,n){e.exports=n.p+"static/media/book-cover.a02eb2a5.svg"},function(e,t,n){e.exports=n.p+"static/media/fist.d1b25a44.svg"},function(e,t,n){e.exports=n.p+"static/media/fire-axe.3106dbae.svg"},function(e,t,n){e.exports=n.p+"static/media/war-axe.e2df8956.svg"},function(e,t,n){e.exports=n.p+"static/media/stiletto.ad33f46f.svg"},function(e,t,n){e.exports=n.p+"static/media/croc-sword.dfa5ecf6.svg"},function(e,t,n){e.exports=n.p+"static/media/flail.1f360b03.svg"},function(e,t,n){e.exports=n.p+"static/media/crossed-swords.b7d2c27a.svg"},function(e,t,n){e.exports=n.p+"static/media/katana.8ca51fab.svg"},function(e,t,n){e.exports=n.p+"static/media/sword-hilt.409c650d.svg"},function(e,t,n){e.exports=n.p+"static/media/orb-wand.2f0c673e.svg"},function(e,t,n){e.exports=n.p+"static/media/wizard-staff.3e6091b9.svg"},function(e,t,n){e.exports=n.p+"static/media/luger.ec54b497.svg"},function(e,t,n){e.exports=n.p+"static/media/crossbow.6d23d544.svg"},function(e,t,n){e.exports=n.p+"static/media/bloody-sword.59d8ca0f.svg"},function(e,t,n){e.exports=n.p+"static/media/winged-sword.c22831aa.svg"},function(e,t,n){e.exports=n.p+"static/media/closed-barbute.59102a4b.svg"},function(e,t,n){e.exports=n.p+"static/media/hood.7b3df127.svg"},function(e,t,n){e.exports=n.p+"static/media/shoulder-armor.caa17ee9.svg"},function(e,t,n){e.exports=n.p+"static/media/robe.5b61ecba.svg"},function(e,t,n){e.exports=n.p+"static/media/gloves.03da1411.svg"},function(e,t,n){e.exports=n.p+"static/media/power-ring.ed9dcd22.svg"},function(e,t,n){e.exports=n.p+"static/media/boots.b6910f10.svg"},,function(e,t,n){e.exports=n.p+"static/media/magnifying-glass.ec7b5987.svg"},function(e,t,n){e.exports=n.p+"static/media/tombstone.31b6aa47.svg"},function(e,t,n){e.exports=n.p+"static/media/pencil.ac0b4bc7.svg"},function(e,t,n){e.exports=n.p+"static/media/save.ec2d8043.svg"},function(e,t,n){e.exports=n.p+"static/media/trash-can.3332c6a4.svg"},function(e,t,n){e.exports=n.p+"static/media/roll.300ea409.png"},function(e,t,n){e.exports=n.p+"static/media/swordman.c84cfcb8.svg"},function(e,t,n){e.exports=n.p+"static/media/swap-bag.df43fabd.svg"},function(e,t,n){e.exports=n.p+"static/media/skills.60519e24.svg"},function(e,t,n){e.exports=n.p+"static/media/crystal-shrine.d915d792.svg"},function(e,t,n){e.exports=n.p+"static/media/two-shadows.3e048aca.svg"},function(e,t,n){e.exports=n.p+"static/media/23761.e6671090.jpg"},,,,,function(e,t,n){e.exports=n(305)},,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a,r,i=n(0),o=n.n(i),c=n(29),l=n.n(c),s=n(7),d=n(4),u=n(3),f=n(1),m=n(2),g=function(e){return Object.keys(e)},h=n(123),p=function(e,t){return 0===e?"":t},b=function(e){return p(e,e>0?"+":"-")},y=n(306),v=function(e){return e>0?e:0},E={3:.46,4:1.85,5:4.62,6:9.25,7:16.2,8:25.92,9:37.5,10:50,11:62.5,12:74.07,13:83.79,14:90.74,15:95.37,16:98.14,17:99.53},w=function(e){return e.split("+").map((function(e){var t=e.split("d"),n=Object(d.a)(t,2),a=n[0],r=n[1];return{n:parseInt(a,10),d:parseInt(r,10)}}))},O=function(e){return 0===e?"":"".concat(b(e)).concat(Math.abs(e))},x=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=D(e.string)||"1d1-1",a=new h.DiceRoll("".concat(n).concat(O(e.modifier)));return{id:Object(y.a)(),total:t?a.total:v(a.total),output:a.output,criticalSuccess:a.total===a.minTotal,criticalFailure:a.total===a.maxTotal,minTotal:t?a.minTotal:v(a.minTotal),maxTotal:t?a.maxTotal:v(a.maxTotal),averageTotal:t?a.averageTotal:v(a.averageTotal)}},k=function(e,t){return x({string:e,modifier:t||0}).total},j=function(e){var t,n=e.value,a=e.roll;return"3d6"===a.string&&0===a.modifier?(t=n)<3?.46:t>17?99.53:E[t]:""===a.string&&a.modifier<=n?100:0},C=function(e,t){var n=e.value,a=e.roll,r=x(a,t);return Object(f.a)({},r,{result:r.total<=n,chance:j(e),goal:n})},S={string:"",modifier:0},R="3d6",I=0,T={value:0,roll:S},M=function(e,t,n){return{keys:e,string:t||S.string,modifier:n||S.modifier}},q=function(e,t,n,a){return{keys:e,value:a||T.value,roll:{string:void 0===t?R:t,modifier:n||I}}},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return q(e,void 0,void 0,t)},D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.filter((function(e){return""!==e})).map((function(e){return w(e)})).reduce((function(e,t){return[].concat(Object(m.a)(e),Object(m.a)(t))}),[]),r={};return a.forEach((function(e){r[e.d]=(r[e.d]||0)+e.n})),g(r).map((function(e,t){return"".concat(r[parseInt(e,10)],"d").concat(e)})).reduce((function(e,t,n){return"".concat(e).concat(n>0?"+":"").concat(t)}),"")},B=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return{string:D(e.string,t.string),modifier:e.modifier+t.modifier}}),S)},W=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Object(f.a)({},B(e,t),{keys:[].concat(Object(m.a)(e.keys),Object(m.a)(t.keys))})}),M([]))},z=function(e,t){var n=ue(t)(e.keys||[]);return{string:e.string,modifier:e.modifier+n}},G=function(e,t){var n=ue(t)(e.keys);return{value:e.value+n,roll:e.roll}},A=function(e,t,n){return x(z(e,t),n)},H=function(e,t,n){return C(G(e,t),n)},F=function(e){var t=x(e,!1);return t.minTotal===t.maxTotal?"".concat(t.maxTotal):"".concat(t.minTotal,"-").concat(t.maxTotal)},U=function(e){e.keys.length;var t=0!==e.modifier,n=e.keys.reduce((function(t,n,a){var r=0!==a||e.string?"+":"";return"".concat(t).concat(r).concat(me[n])}),""),a=t?"".concat(e.string||n?b(e.modifier):"").concat(Math.abs(e.modifier)):"";return"".concat(e.string).concat(n).concat(a)},$={slashing:"grey",piercing:"grey",fire:"orange",blood:"#cd7474",light:"lemonchiffon",dark:"mediumpurple"},L=function(e){return g(e)},K=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,r=0,i=g(t).filter((function(e){return t[e]})),o={slashing:void 0,piercing:void 0,fire:void 0,blood:void 0,light:void 0,dark:void 0};return i.forEach((function(i){var c=t[i],l=e(c,!0,!1,a);n&&(l=Object(f.a)({},l,{total:l.maxTotal||l.total})),r+=l.total,o=Object(f.a)({},o,Object(u.a)({},i,l))})),{total:r,rollResults:o}}},N={slashing:M([]),piercing:M([]),fire:M([]),blood:M([]),light:M([]),dark:M([])},_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n={};return g(e).forEach((function(a){n[a]=t[a]?W(e[a],t[a]):e[a]})),n}),N)},V=function(e,t,n){return e.reduce(t,n)},Y={onHit:"on hit",onCrit:"on crit"},J=function(e){return e||[]},X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return V(t,(function(e,t){var n={};return g(e).forEach((function(a){n[a]=[].concat(Object(m.a)(J(e[a])),Object(m.a)(J(t[a])))})),n}),{onHit:[],onCrit:[]})},Q={id:"",accuracyOffset:0,damageRolls:N,events:{},traits:[]},Z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return{id:t.id,accuracyOffset:e.accuracyOffset+t.accuracyOffset,damageRolls:_(e.damageRolls,t.damageRolls),events:X(e.events,t.events),traits:[].concat(Object(m.a)(e.traits),Object(m.a)(t.traits))}}),Q)},ee=function(e){if(e.processed)throw new Error("No Processed Weapons Allowed");var t=e.slots,n=V(t,(function(e,t){return[].concat(Object(m.a)(e),Object(m.a)(t.traits))}),[]),a=Z.apply(void 0,Object(m.a)(n));return Object(f.a)({},e,{processed:!0,accuracyCheck:Object(f.a)({},e.accuracyCheck,{value:e.accuracyCheck.value+a.accuracyOffset}),damageRolls:_(e.damageRolls,a.damageRolls),traits:[].concat(Object(m.a)(e.traits),Object(m.a)(a.traits)),events:X(e.events,a.events)})},te=function(e,t){return q(e,"",t,void 0)},ne=function(e){var t=Object(y.a)();return{id:t,type:e,rarity:"common",equippable:!0,name:"",cost:0,resource:"weaponHands",requirementCheck:te(["intelligence"],1),traits:[{id:"".concat(t,"-0"),name:"Bonus",duration:-1,healthOffset:0,focusOffset:0,abilitiesModifiers:{strength:0,dexterity:0,intelligence:0,vigor:0},statsModifiers:{health:0,focus:0,will:0,perception:0,agility:0,accuracy:0,evade:0}}],damageResistances:{slashing:M([]),piercing:M([]),fire:M([]),blood:M([]),light:M([]),dark:M([])}}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id:Object(y.a)(),name:e,duration:-1,healthOffset:0,focusOffset:0,abilitiesModifiers:{strength:0,dexterity:0,intelligence:0,vigor:0},statsModifiers:{health:0,focus:0,will:0,perception:0,agility:0,accuracy:0,evade:0}}},re=Object(f.a)({},ne("weapon"),{id:Object(y.a)(),equippable:!0,type:"weapon",weaponType:"fists",name:"Unarmed",cost:0,resource:"weaponHands",requirementCheck:te(["strength"],1),damageRolls:{piercing:M([],"1d6",-3)},accuracyCheck:q(["dexterity"]),traits:[],events:{},slotCount:0,slots:[]}),ie=function(e){var t=V(e.armor,(function(e,t){return[].concat(Object(m.a)(e),Object(m.a)(t.traits))}),[]),n=V(e.equippedItems,(function(e,t){return[].concat(Object(m.a)(e),Object(m.a)(t.traits))}),[]);return[].concat(Object(m.a)(e.traits),Object(m.a)(ee(e.weapon||re).traits),Object(m.a)(n),Object(m.a)(t))},oe=function(e){return ie(e).map((function(e){return e.abilitiesModifiers})).reduce((function(e,t){return{strength:e.strength+t.strength,dexterity:e.dexterity+t.dexterity,intelligence:e.intelligence+t.intelligence,vigor:e.vigor+t.vigor}}),e.abilities)},ce=function(e){var t=oe(e);return ie(e).map((function(e){return e.statsModifiers})).reduce((function(e,t){return{health:e.health+t.health,focus:e.focus+t.focus,will:e.will+t.will,perception:e.perception+t.perception,agility:e.agility+t.agility,accuracy:e.accuracy+t.accuracy,evade:e.evade+t.evade}}),{health:2*t.strength+t.vigor,focus:t.intelligence+t.vigor,will:t.intelligence,perception:t.intelligence,agility:(t.vigor+t.dexterity)/4,accuracy:t.dexterity-2,evade:t.dexterity-8})},le=function(e){var t=e.armor,n=L(e.damageResistances);return V(n,(function(e,n){return Object(f.a)({},e,Object(u.a)({},n,W.apply(void 0,[e[n]].concat(Object(m.a)(t.map((function(e){return e.damageResistances[n]})))))))}),e.damageResistances)},se=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.processed)return e;e=t?e:Object(f.a)({},e,{weapon:void 0});var n=oe(e),a=ce(e),r=ie(e),i=le(e),o=v(r.reduce((function(e,t){return e-t.healthOffset}),e.healthOffset));return Object(f.a)({},e,{healthOffset:o,weapon:ee(e.weapon||re),abilities:n,stats:a,traits:r,damageResistances:i,processed:!0,dead:o>=a.health})},de=function(e){return function(t){return Object(f.a)({},e,{healthOffset:v(e.healthOffset-t.healthOffset),focusOffset:v(e.focusOffset-t.focusOffset)})}},ue=function(e){return function(t){return t.reduce((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,a=e.abilities[n],r=e.stats[n];return a&&(t+=a),r&&(t+=r),t}),0)}},fe=function(e){return function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.resources.characterPoints;return je(Object(f.a)({},e,{power:e.power+(e.resources.characterPoints-a),resources:Object(f.a)({},e.resources,{characterPoints:a}),abilities:Object(f.a)({},e.abilities,Object(u.a)({},t,n))}))}},me={strength:"STR",dexterity:"DEX",intelligence:"INT",vigor:"VIG",health:"HLT",focus:"FOC",will:"WIL",perception:"PER",agility:"AGL",accuracy:"ACC",evade:"EVD"},ge={strength:10,dexterity:20,intelligence:20,vigor:10},he=(Object(f.a)({},ge,{health:5,focus:5,will:10,perception:10,agility:10,accuracy:10,evade:10}),function(e){return function(t,n){if(!t)return!1;if(!t.equippable)return!1;var a=t,r=se(e,n);return!!H(a.requirementCheck,r).result&&(("weapon"!==a.type||!e.weapon)&&!(r.resources[a.resource]<a.cost))}}),pe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){var a,r=[],i=Object(f.a)({},e);(null===(a=e.weapon)||void 0===a?void 0:a.id)===n&&(r=[Object(f.a)({},e.weapon)],i=Oe(i));var o=e.armor.find((function(e){return e.id===n}));o&&(r=[Object(f.a)({},o)],i=Ee(e)(o));var c=e.equippedItems.find((function(e){return e.id===n}));if(c&&(r=[Object(f.a)({},c)],i=ye(e)(c)),t){var l=je(i);i=l[0],r=[].concat(Object(m.a)(r),Object(m.a)(l[1]))}return[r,i]}},be=function(e){return function(t){var n=e.resources[t.resource];return Object(f.a)({},e,{resources:Object(f.a)({},e.resources,Object(u.a)({},t.resource,n-t.cost)),equippedItems:[].concat(Object(m.a)(e.equippedItems),[t])})}},ye=function(e){return function(t){if(!t)return e;var n=e.resources[t.resource];return Object(f.a)({},e,{resources:Object(f.a)({},e.resources,Object(u.a)({},t.resource,n+t.cost)),equippedItems:e.equippedItems.filter((function(e){return e.id!==t.id}))})}},ve=function(e){return function(t){var n=e.resources[t.resource];return Object(f.a)({},e,{resources:Object(f.a)({},e.resources,Object(u.a)({},t.resource,n-t.cost)),armor:[].concat(Object(m.a)(e.armor),[t])})}},Ee=function(e){return function(t){if(!t)return e;var n=e.resources[t.resource];return Object(f.a)({},e,{resources:Object(f.a)({},e.resources,Object(u.a)({},t.resource,n+t.cost)),armor:e.armor.filter((function(e){return e.id!==t.id}))})}},we=function(e){return function(t){var n;if("weapon"!==t.type)return e;var a=e.weapon;return(null===(n=a)||void 0===n?void 0:n.id)===re.id&&(a=void 0),Object(f.a)({},e,{resources:Object(f.a)({},e.resources,{weaponHands:e.resources.weaponHands-t.cost+(a?a.cost:0)}),weapon:t})}},Oe=function(e){return e.weapon?Object(f.a)({},e,{resources:Object(f.a)({},e.resources,{weaponHands:e.resources.weaponHands+e.weapon.cost}),weapon:void 0}):e},xe=function(e,t){var n=e.abilitiesModifiers[t],a=e.statsModifiers[t];return void 0!==n?n:a},ke=function(e){var t=Object(y.a)(),n="combine"+t;return e.reduce((function(e,a){var r=e.abilitiesModifiers,i=a.abilitiesModifiers,o=e.statsModifiers,c=a.statsModifiers;return{id:t,name:n,duration:a.duration,healthOffset:e.healthOffset+a.healthOffset,focusOffset:e.focusOffset+a.focusOffset,abilitiesModifiers:{strength:r.strength+i.strength,dexterity:r.dexterity+i.dexterity,intelligence:r.intelligence+i.intelligence,vigor:r.vigor+i.vigor},statsModifiers:{health:o.health+c.health,focus:o.focus+c.focus,will:o.will+c.will,perception:o.perception+c.perception,agility:o.agility+c.agility,accuracy:o.accuracy+c.accuracy,evade:o.evade+c.evade}}}),ae())},je=function e(t){var n,a,r=se(t),i=Object(f.a)({},t),o=[],c=function(e){i=Object(f.a)({},e),r=se(e)};if(!H(r.weapon.requirementCheck,r).result){var l=pe(i,!1)(r.weapon.id);c(l[1]),l[0]&&(o=[].concat(Object(m.a)(o),Object(m.a)(l[0])))}if(r.armor.forEach((function(e){if(!H(e.requirementCheck,r).result){var t=pe(i,!1)(e.id);c(t[1]),t[0]&&(o=[].concat(Object(m.a)(o),Object(m.a)(t[0])))}})),r.equippedItems.forEach((function(e){if(!H(e.requirementCheck,r).result&&!H(e.requirementCheck,r).result){var t=pe(i,!1)(e.id);c(t[1]),t[0]&&(o=[].concat(Object(m.a)(o),Object(m.a)(t[0])))}})),(null===(n=i.weapon)||void 0===n?void 0:n.id)!==(null===(a=t.weapon)||void 0===a?void 0:a.id)||i.armor.length!==t.armor.length||i.equippedItems.length!==i.equippedItems.length){var s=e(i),u=Object(d.a)(s,2),g=u[0],h=u[1];o=[].concat(Object(m.a)(o),Object(m.a)(h)),c(g)}return[i,o]},Ce={name:"-- init --",id:Object(y.a)(),power:0,resources:{characterPoints:0,weaponHands:0,heads:0,bodies:0,hands:0,fingers:0,feet:0},abilities:{strength:0,dexterity:0,intelligence:0,vigor:0},damageResistances:{slashing:M([]),piercing:M([]),fire:M([]),blood:M([]),light:M([]),dark:M([])},traits:[],skills:[],equippedItems:[],armor:[],healthOffset:0,focusOffset:0,dead:!1,inspected:!1},Se=function(e){return Object(f.a)({},e,{characters:e.characters.map((function(t){return Object(f.a)({},se(t),{partyId:e.id})})),processed:!0})},Re=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a=arguments.length>1?arguments[1]:void 0,r=e[a.type];return r?r(n,a):n}},Ie=n(21),Te=n(22),Me=function(e,t){return[].concat(Object(m.a)(e.filter((function(e){return e.id!==t.id}))),[t])},qe=function(e,t,n){return e.map((function(e){return e.id===t?n(e):e}))},Pe=function(e){return e[Math.floor(Math.random()*e.length)]},De=Object(f.a)({},ne("shield"),{id:"basic-shield",equippable:!0,type:"shield",rarity:"rare",name:"Basic Shield",cost:1,resource:"weaponHands",requirementCheck:te(["strength"],3),traits:[Object(f.a)({},ae(),{id:"basic-shield--bonus",abilitiesModifiers:{strength:1,dexterity:0,intelligence:0,vigor:2},statsModifiers:{health:0,focus:0,will:0,perception:0,agility:-2,accuracy:0,evade:0}})],damageResistances:{slashing:M([],void 0,3),piercing:M([],void 0,2),fire:M([]),blood:M([]),light:M([]),dark:M([])}}),Be=Object(f.a)({},ne("tome"),{id:"basic-tome",equippable:!0,type:"tome",rarity:"unique",name:"Basic Tome",cost:1,resource:"weaponHands",requirementCheck:te(["intelligence"],12),traits:[Object(f.a)({},ae(),{id:"basic-tome--bonus",abilitiesModifiers:{strength:0,dexterity:0,intelligence:4,vigor:0}})],damageResistances:{slashing:M([]),piercing:M([]),fire:M([]),blood:M([]),light:M([]),dark:M([])}}),We=["Helmet of Doom","Helmet of Dawn"],ze=["Hood of the Night"],Ge=["Armor of the King"],Ae=["Robe of the Necromancer"],He=["Gloves of the Great War"],Fe=["Ring of Green","Silver Serpant Ring"],Ue=["Boots of the Gods"],$e=function(e){for(var t=Object(m.a)(e),n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=[t[a],t[n]];t[n]=r[0],t[a]=r[1]}return t},Le={3:"set",4:"unique",5:"legendary",6:"rare",7:"uncommon",8:"common",9:"common",10:"common",11:"common",12:"common",13:"uncommon",14:"uncommon",15:"rare",16:"legendary",17:"unique",18:"mythic"},Ke=function(e,t,n){var a=n-13,r=t+(a=a>0?a:0);r=r>0?r:0;for(var i={},o=0;o<r;++o){var c=Pe($e(e));i[c]=(i[c]||0)+1}return i},Ne={helmet:["strength","dexterity"],cowl:["dexterity","intelligence"],chestplate:["strength","vigor"],robe:["dexterity","intelligence"],gloves:["strength","dexterity","intelligence"],ring:["strength","dexterity","intelligence"],boots:["strength","dexterity","intelligence"]},_e={helmet:1,cowl:1,chestplate:1,robe:1,gloves:2,ring:1,boots:2},Ve={helmet:"heads",cowl:"heads",chestplate:"bodies",robe:"bodies",gloves:"hands",ring:"fingers",boots:"feet"},Ye={helmet:["strength","intelligence","vigor","accuracy"],cowl:["dexterity","intelligence","agility","evade"],chestplate:["strength","intelligence","vigor"],robe:["dexterity","intelligence","agility","evade"],gloves:["strength","dexterity","intelligence","vigor","health","focus","agility","accuracy"],ring:["strength","dexterity","intelligence","vigor","health","focus","will","perception","agility","accuracy","evade"],boots:["strength","dexterity","intelligence","vigor","health","focus","agility","evade"]},Je={common:Ye,uncommon:Ye,rare:Ye,legendary:Ye,unique:Ye,mythic:Ye,set:Ye},Xe={common:0,uncommon:1,rare:2,legendary:3,unique:4,mythic:5,set:5},Qe=function(e){return M([],"",k(e))},Ze=function(e){return M([],e)},et=[],tt=[],nt=[],at=function(e,t){t=t||Le[k("3d6")];var n=te([Pe(Ne[e])],10),a=et.find((function(t){return t.armorType===e||t.requirementCheck===n})),r=tt.find((function(t){return t.armorType===e||t.requirementCheck===n})),i=nt.find((function(t){return t.armorType===e||t.requirementCheck===n}));return"unique"===t&&a?a:"mythic"===t&&r?r:"set"===t&&i?i:rt(e,{common:{helmet:"Common Helmet",cowl:"Common Hood",chestplate:"Common Chestplate",robe:"Common Robe",gloves:"Common Gloves",ring:"Common Ring",boots:"Common Boots"},uncommon:{helmet:"Uncommon Helmet",cowl:"Uncommon Hood",chestplate:"Uncommon Chestplate",robe:"Uncommon Robe",gloves:"Uncommon Gloves",ring:"Uncommon Ring",boots:"Uncommon Boots"},rare:{helmet:"Rare Helmet",cowl:"Rare Hood",chestplate:"Rare Chestplate",robe:"Rare Robe",gloves:"Rare Gloves",ring:"Rare Ring",boots:"Rare Boots"},legendary:{helmet:"Epic Helmet",cowl:"Epic Hood",chestplate:"Epic Chestplate",robe:"Epic Robe",gloves:"Epic Gloves",ring:"Epic Ring",boots:"Epic Boots"},unique:{helmet:Pe(We),cowl:Pe(ze),chestplate:Pe(Ge),robe:Pe(Ae),gloves:Pe(He),ring:Pe(Fe),boots:Pe(Ue)},mythic:{helmet:"Mythic Helmet",cowl:"Mythic Hood",chestplate:"Mythic Chestplate",robe:"Mythic Robe",gloves:"Mythic Gloves",ring:"Mythic Ring",boots:"Mythic Boots"},set:{helmet:"Set Helmet",cowl:"Set Hood",chestplate:"Set Chestplate",robe:"Set Robe",gloves:"Set Gloves",ring:"Set Ring",boots:"Set Boots"}}[t][e],_e[e],Ve[e],n,function(e,t,n){var a=$e(Je[t][e]);return Ke(a,Xe[t],n)}(e,t,n.value),{common:{helmet:{slashing:Qe("1d2-1"),piercing:Qe("1d2-1")},cowl:{blood:Qe("1d2-1"),light:Qe("1d2-1"),dark:Qe("1d2-1")},chestplate:{slashing:Qe("1d2-1"),piercing:Qe("1d2-1"),fire:Qe("1d2-1")},robe:{fire:Qe("1d2-1"),blood:Qe("1d2-1"),light:Qe("1d2-1"),dark:Qe("1d2-1")},gloves:{slashing:Qe("1d2-1"),piercing:Qe("1d2-1")},ring:{blood:Qe("1d2-1"),light:Qe("1d2-1"),dark:Qe("1d2-1")},boots:{slashing:Qe("1d2-1"),piercing:Qe("1d2-1")}},uncommon:{helmet:{slashing:Qe("1d3-1"),piercing:Qe("1d3-1")},cowl:{blood:Qe("1d3-1"),light:Qe("1d3-1"),dark:Qe("1d3-1")},chestplate:{slashing:Qe("1d3-1"),piercing:Qe("1d3-1"),fire:Qe("1d3-1")},robe:{fire:Qe("1d3-1"),blood:Qe("1d3-1"),light:Qe("1d3-1"),dark:Qe("1d3-1")},gloves:{slashing:Qe("1d3-1"),piercing:Qe("1d3-1")},ring:{blood:Qe("1d3-1"),light:Qe("1d3-1"),dark:Qe("1d3-1")},boots:{slashing:Qe("1d3-1"),piercing:Qe("1d3-1")}},rare:{helmet:{slashing:Qe("1d4-1"),piercing:Qe("1d4-1")},cowl:{blood:Qe("1d4-1"),light:Qe("1d4-1"),dark:Qe("1d4-1")},chestplate:{slashing:Qe("1d4-1"),piercing:Qe("1d4-1"),fire:Qe("1d4-1")},robe:{fire:Qe("1d4-1"),blood:Qe("1d4-1"),light:Qe("1d4-1"),dark:Qe("1d4-1")},gloves:{slashing:Qe("1d4-1"),piercing:Qe("1d4-1")},ring:{blood:Qe("1d4-1"),light:Qe("1d4-1"),dark:Qe("1d4-1")},boots:{slashing:Qe("1d4-1"),piercing:Qe("1d4-1")}},legendary:{helmet:{slashing:Qe("1d5-1"),piercing:Qe("1d5-1")},cowl:{blood:Qe("1d5-1"),light:Qe("1d5-1"),dark:Qe("1d5-1")},chestplate:{slashing:Qe("1d5-1"),piercing:Qe("1d5-1"),fire:Qe("1d5-1")},robe:{fire:Qe("1d5-1"),blood:Qe("1d5-1"),light:Qe("1d5-1"),dark:Qe("1d5-1")},gloves:{slashing:Qe("1d5-1"),piercing:Qe("1d5-1")},ring:{fire:Qe("1d5-1"),blood:Qe("1d5-1"),light:Qe("1d5-1"),dark:Qe("1d5-1")},boots:{slashing:Qe("1d5-1"),piercing:Qe("1d5-1")}},unique:{helmet:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},cowl:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},chestplate:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},robe:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},gloves:{slashing:Qe("1d2-1"),piercing:Qe("1d2-1"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},ring:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},boots:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")}},mythic:{helmet:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},cowl:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},chestplate:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},robe:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},gloves:{slashing:Qe("1d2-1"),piercing:Qe("1d2-1"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},ring:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},boots:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")}},set:{helmet:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},cowl:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},chestplate:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},robe:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},gloves:{slashing:Qe("1d2-1"),piercing:Qe("1d2-1"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},ring:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")},boots:{slashing:Ze("1d6"),piercing:Ze("1d6"),fire:Ze("1d6"),blood:Ze("1d6"),light:Ze("1d6"),dark:Ze("1d6")}}}[t][e],t)},rt=function(e,t,n,a,r,i,o,c){var l=ne("armor");return Object(f.a)({},l,{type:"armor",armorType:e,name:t,cost:n,resource:a,requirementCheck:r,rarity:c,damageResistances:Object(f.a)({},l.damageResistances,{},o),traits:[{id:"".concat(l.id,"--bonus"),name:"Armor Trait",duration:-1,healthOffset:0,focusOffset:0,abilitiesModifiers:{strength:i.strength||0,dexterity:i.dexterity||0,intelligence:i.intelligence||0,vigor:i.vigor||0},statsModifiers:{health:i.health||0,focus:i.focus||0,will:i.will||0,perception:i.perception||0,agility:i.agility||0,accuracy:i.accuracy||0,evade:i.evade||0}}]})},it={fists:["strength"],axe:["strength"],greataxe:["strength"],flail:["strength"],daggers:["dexterity"],katana:["dexterity"],rapier:["dexterity"],wand:["intelligence"],staff:["intelligence"],elementalSword:["strength","intelligence"],elementalGreatsword:["strength","intelligence"],sword:["strength","dexterity"],greatsword:["strength","dexterity"],pistol:["dexterity","intelligence"],crossbow:["dexterity","intelligence"]},ot={fists:1,axe:1,greataxe:2,flail:1,daggers:2,katana:1,rapier:1,wand:1,staff:2,elementalSword:1,elementalGreatsword:2,sword:1,greatsword:2,pistol:1,crossbow:2},ct={fists:["strength","vigor"],axe:["strength","vigor","health","agility"],greataxe:["strength","vigor","health","agility"],flail:["strength","vigor","health","agility"],daggers:["dexterity","vigor","health","agility"],katana:["dexterity","vigor","health","agility"],rapier:["dexterity","vigor","health","agility"],wand:["intelligence","vigor","agility"],staff:["intelligence","vigor","perception","will"],elementalSword:["intelligence","vigor","strength","will"],elementalGreatsword:["intelligence","vigor","strength","will"],sword:["strength","intelligence","health","agility"],greatsword:["strength","intelligence","health","vigor"],pistol:["dexterity","intelligence","perception","vigor"],crossbow:["dexterity","intelligence","perception","vigor"]},lt={common:ct,uncommon:ct,rare:ct,legendary:ct,unique:ct,mythic:ct,set:ct},st={common:1,uncommon:2,rare:3,legendary:4,unique:5,mythic:6,set:6},dt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return M(n,e,k(t)*a+r)},ut=function(e,t){"set"===(t=t||Le[k("3d6")])&&(t="mythic");var n=te([Pe(it[e])],10);return ft(e,{common:{fists:"Unarmed",axe:"Common Axe",greataxe:"Common Greataxe",flail:"Common Flail",daggers:"Common Daggers",katana:"Common Katana",rapier:"Common Rapier",wand:"Common Wand",staff:"Common Staff",elementalSword:"Elemental Sword",elementalGreatsword:"Elemental Greatsword",sword:"Common Sword",greatsword:"Common Greatsword",pistol:"Common Pistol",crossbow:"Common Crossbow"},uncommon:{fists:"Unarmed",axe:"Uncommon Axe",greataxe:"Uncommon Greataxe",flail:"Uncommon Flail",daggers:"Uncommon Daggers",katana:"Uncommon Katana",rapier:"Uncommon Rapier",wand:"Uncommon Wand",staff:"Uncommon Staff",elementalSword:"Elemental Sword",elementalGreatsword:"Elemental Greatsword",sword:"Uncommon Sword",greatsword:"Uncommon Greatsword",pistol:"Uncommon Pistol",crossbow:"Uncommon Crossbow"},rare:{fists:"Unarmed",axe:"Rare Axe",greataxe:"Rare Greataxe",flail:"Rare Flail",daggers:"Rare Daggers",katana:"Rare Katana",rapier:"Rare Rapier",wand:"Rare Wand",staff:"Rare Staff",elementalSword:"Elemental Sword",elementalGreatsword:"Elemental Greatsword",sword:"Rare Sword",greatsword:"Rare Greatsword",pistol:"Rare Pistol",crossbow:"Rare Crossbow"},legendary:{fists:"Unarmed",axe:"Epic Axe",greataxe:"Epic Greataxe",flail:"Epic Flail",daggers:"Epic Daggers",katana:"Epic Katana",rapier:"Epic Rapier",wand:"Epic Wand",staff:"Epic Staff",elementalSword:"Elemental Sword",elementalGreatsword:"Elemental Greatsword",sword:"Epic Sword",greatsword:"Epic Greatsword",pistol:"Epic Pistol",crossbow:"Epic Crossbow"},unique:{fists:"Unarmed",axe:"Unique Axe",greataxe:"Unique Greataxe",flail:"Unique Flail",daggers:"Unique Daggers",katana:"Unique Katana",rapier:"Unique Rapier",wand:"Unique Wand",staff:"Unique Staff",elementalSword:"Elemental Sword",elementalGreatsword:"Elemental Greatsword",sword:"Unique Sword",greatsword:"Unique Greatsword",pistol:"Unique Pistol",crossbow:"Unique Crossbow"},mythic:{fists:"Unarmed",axe:"Mythic Axe",greataxe:"Mythic Greataxe",flail:"Mythic Flail",daggers:"Mythic Daggers",katana:"Mythic Katana",rapier:"Mythic Rapier",wand:"Mythic Wand",staff:"Mythic Staff",elementalSword:"Elemental Sword",elementalGreatsword:"Elemental Greatsword",sword:"Mythic Sword",greatsword:"Mythic Greatsword",pistol:"Mythic Pistol",crossbow:"Mythic Crossbow"},set:{fists:"Unarmed",axe:"Set Axe",greataxe:"Set Greataxe",flail:"Set Flail",daggers:"Set Daggers",katana:"Set Katana",rapier:"Set Rapier",wand:"Set Wand",staff:"Set Staff",elementalSword:"Elemental Sword",elementalGreatsword:"Elemental Greatsword",sword:"Set Sword",greatsword:"Set Greatsword",pistol:"Set Pistol",crossbow:"Set Crossbow"}}[t][e],ot[e],n,0,function(e,t,n){var a=$e(lt[t][e]);return Ke(a,st[t],n)}(e,t,n.value),function(){var e=Pe(["fire","blood","dark","light"]);return{common:{fists:{slashing:dt("1d6","3d4",["strength"])},axe:{slashing:dt("1d6","3d4",["strength"])},greataxe:{slashing:dt("2d6","1d6",["strength"])},flail:{piercing:dt("1d6","3d4",["strength"])},daggers:{slashing:dt("2d6","1d6",["dexterity"])},katana:{slashing:dt("1d6","3d4",["dexterity"])},rapier:{piercing:dt("1d6","3d4",["dexterity"])},wand:Object(u.a)({},e,dt("1d6","3d4",["intelligence"])),staff:Object(u.a)({},e,dt("2d6","1d6",["intelligence"])),elementalSword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),elementalGreatsword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),sword:{slashing:dt("1d6","3d6",["strength"])},greatsword:{slashing:dt("1d6","3d6",["strength","dexterity"])},pistol:{piercing:dt("1d4","3d6",["dexterity"]),fire:dt("1d4","3d6",["intelligence"])},crossbow:{piercing:dt("1d4","2d6",["dexterity"]),fire:dt("1d4","2d6",["intelligence"])}},uncommon:{fists:{slashing:dt("1d6","3d4",["strength"])},axe:{slashing:dt("1d6","3d4",["strength"])},greataxe:{slashing:dt("2d6","1d6",["strength"])},flail:{piercing:dt("1d6","3d4",["strength"])},daggers:{slashing:dt("2d6","1d6",["dexterity"])},katana:{slashing:dt("1d6","3d4",["dexterity"])},rapier:{piercing:dt("1d6","3d4",["dexterity"])},wand:Object(u.a)({},e,dt("1d6","3d4",["intelligence"])),staff:Object(u.a)({},e,dt("2d6","1d6",["intelligence"])),elementalSword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),elementalGreatsword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),sword:{slashing:dt("1d6","3d6",["strength"])},greatsword:{slashing:dt("1d6","3d6",["strength","dexterity"])},pistol:{piercing:dt("1d4","3d6",["dexterity"]),fire:dt("1d4","3d6",["intelligence"])},crossbow:{piercing:dt("1d4","2d6",["dexterity"]),fire:dt("1d4","2d6",["intelligence"])}},rare:{fists:{slashing:dt("1d6","3d4",["strength"])},axe:{slashing:dt("1d6","3d4",["strength"])},greataxe:{slashing:dt("2d6","1d6",["strength"])},flail:{piercing:dt("1d6","3d4",["strength"])},daggers:{slashing:dt("2d6","1d6",["dexterity"])},katana:{slashing:dt("1d6","3d4",["dexterity"])},rapier:{piercing:dt("1d6","3d4",["dexterity"])},wand:Object(u.a)({},e,dt("1d6","3d4",["intelligence"])),staff:Object(u.a)({},e,dt("2d6","1d6",["intelligence"])),elementalSword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),elementalGreatsword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),sword:{slashing:dt("1d6","3d6",["strength"])},greatsword:{slashing:dt("1d6","3d6",["strength","dexterity"])},pistol:{piercing:dt("1d4","3d6",["dexterity"]),fire:dt("1d4","3d6",["intelligence"])},crossbow:{piercing:dt("1d4","2d6",["dexterity"]),fire:dt("1d4","2d6",["intelligence"])}},legendary:{fists:{slashing:dt("1d6","3d4",["strength"])},axe:{slashing:dt("1d6","3d4",["strength"])},greataxe:{slashing:dt("2d6","1d6",["strength"])},flail:{piercing:dt("1d6","3d4",["strength"])},daggers:{slashing:dt("2d6","1d6",["dexterity"])},katana:{slashing:dt("1d6","3d4",["dexterity"])},rapier:{piercing:dt("1d6","3d4",["dexterity"])},wand:Object(u.a)({},e,dt("1d6","3d4",["intelligence"])),staff:Object(u.a)({},e,dt("2d6","1d6",["intelligence"])),elementalSword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),elementalGreatsword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),sword:{slashing:dt("1d6","3d6",["strength"])},greatsword:{slashing:dt("1d6","3d6",["strength","dexterity"])},pistol:{piercing:dt("1d4","3d6",["dexterity"]),fire:dt("1d4","3d6",["intelligence"])},crossbow:{piercing:dt("1d4","2d6",["dexterity"]),fire:dt("1d4","2d6",["intelligence"])}},unique:{fists:{slashing:dt("1d6","3d4",["strength"])},axe:{slashing:dt("1d6","3d4",["strength"])},greataxe:{slashing:dt("2d6","1d6",["strength"])},flail:{piercing:dt("1d6","3d4",["strength"])},daggers:{slashing:dt("2d6","1d6",["dexterity"])},katana:{slashing:dt("1d6","3d4",["dexterity"])},rapier:{piercing:dt("1d6","3d4",["dexterity"])},wand:Object(u.a)({},e,dt("1d6","3d4",["intelligence"])),staff:Object(u.a)({},e,dt("2d6","1d6",["intelligence"])),elementalSword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),elementalGreatsword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),sword:{slashing:dt("1d6","3d6",["strength"])},greatsword:{slashing:dt("1d6","3d6",["strength","dexterity"])},pistol:{piercing:dt("1d4","3d6",["dexterity"]),fire:dt("1d4","3d6",["intelligence"])},crossbow:{piercing:dt("1d4","2d6",["dexterity"]),fire:dt("1d4","2d6",["intelligence"])}},mythic:{fists:{slashing:dt("1d6","3d4",["strength"])},axe:{slashing:dt("1d6","3d4",["strength"])},greataxe:{slashing:dt("2d6","1d6",["strength"])},flail:{piercing:dt("1d6","3d4",["strength"])},daggers:{slashing:dt("2d6","1d6",["dexterity"])},katana:{slashing:dt("1d6","3d4",["dexterity"])},rapier:{piercing:dt("1d6","3d4",["dexterity"])},wand:Object(u.a)({},e,dt("1d6","3d4",["intelligence"])),staff:Object(u.a)({},e,dt("2d6","1d6",["intelligence"])),elementalSword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),elementalGreatsword:Object(u.a)({slashing:dt("1d6","3d6",[Pe(["strength","dexterity"])])},e,dt("1d4","3d4",["intelligence"])),sword:{slashing:dt("1d6","3d6",["strength"])},greatsword:{slashing:dt("1d6","3d6",["strength","dexterity"])},pistol:{piercing:dt("1d4","3d6",["dexterity"]),fire:dt("1d4","3d6",["intelligence"])},crossbow:{piercing:dt("1d4","2d6",["dexterity"]),fire:dt("1d4","2d6",["intelligence"])}},set:{fists:{},axe:{},greataxe:{},flail:{},daggers:{},katana:{},rapier:{},wand:{},staff:{},elementalSword:{},elementalGreatsword:{},sword:{},greatsword:{},pistol:{},crossbow:{}}}}()[t][e],t)},ft=function(e,t,n,a,r,i,o,c){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},s=ne("weapon");return Object(f.a)({},s,{type:"weapon",weaponType:e,name:t,cost:n,rarity:c,requirementCheck:a,accuracyCheck:q(["accuracy"],void 0,0,r),damageRolls:o,traits:[Object(f.a)({},ae(),{id:"".concat(s.id,"--bonus"),name:"Weapon Trait",abilitiesModifiers:{strength:i.strength||0,dexterity:i.dexterity||0,intelligence:i.intelligence||0,vigor:i.vigor||0},statsModifiers:{health:i.health||0,focus:i.focus||0,will:i.will||0,perception:i.perception||0,agility:i.agility||0,accuracy:i.accuracy||0,evade:i.evade||0}})],events:{},slotCount:0,slots:[]},l)},mt=["weapon","weapon","armor","armor","armor","armor"],gt={weapon:function(){return function(e){var t=g(e);return(e[Pe(t)]||function(){return re})()}({axe:function(){return ut("axe")},greataxe:function(){return ut("greataxe")},flail:function(){return ut("flail")},daggers:function(){return ut("daggers")},katana:function(){return ut("katana")},rapier:function(){return ut("rapier")},wand:function(){return ut("wand")},staff:function(){return ut("staff")},elementalSword:function(){return ut("elementalSword")},elementalGreatsword:function(){return ut("elementalGreatsword")},sword:function(){return ut("sword")},greatsword:function(){return ut("greatsword")},pistol:function(){return ut("pistol")},crossbow:function(){return ut("crossbow")}})},armor:function(){return function(e){var t=g(e);return(e[Pe(t)]||function(){return at("ring")})()}({helmet:function(){return at("helmet")},cowl:function(){return at("cowl")},chestplate:function(){return at("chestplate")},robe:function(){return at("robe")},ring:function(){return at("ring")},boots:function(){return at("boots")},gloves:function(){return at("gloves")}})},shield:function(){return De},tome:function(){return Be}},ht=function(){return gt[Pe(mt)]()},pt=n(125),bt=n.n(pt),yt=n(126),vt=n.n(yt),Et=n(127),wt=n.n(Et),Ot=n(128),xt=n.n(Ot),kt=n(129),jt=n.n(kt),Ct=n(130),St=n.n(Ct),Rt=n(131),It=n.n(Rt),Tt=n(132),Mt=n.n(Tt),qt=n(133),Pt=n.n(qt),Dt=n(134),Bt=n.n(Dt),Wt=n(135),zt=n.n(Wt),Gt=n(136),At=n.n(Gt),Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Weapon Attack";return{id:Object(y.a)(),name:e,imgSrc:"",requirementCheck:te(["intelligence"],1),damageRolls:{},targetTraits:[],sourceTraits:[],events:{},combineWeaponDamage:!0,checkDodgeForTraits:!0,focusCost:0,target:!0}},Ft=Object(f.a)({},Ht(),{imgSrc:At.a}),Ut=Object(f.a)({},Ht("Inspect"),{imgSrc:zt.a,combineWeaponDamage:!1,damageRolls:{},inspected:!0}),$t=Object(f.a)({},Ht("Fireball"),{imgSrc:vt.a,check:q(["intelligence"]),combineWeaponDamage:!1,damageRolls:{fire:M([],"4d10",-7)},focusCost:10}),Lt=Object(f.a)({},Ht("Critical Blow"),{imgSrc:jt.a,requirementCheck:te(["strength"],10),combineWeaponDamage:!0,checkDodgeForTraits:!0,damageRolls:{},targetTraits:[Object(f.a)({},ae(),{duration:2,abilitiesModifiers:{strength:0,dexterity:0,intelligence:0,vigor:-5}}),Object(f.a)({},ae(),{duration:-1,focusOffset:-3,abilitiesModifiers:{strength:0,dexterity:0,intelligence:0,vigor:0}})],focusCost:1}),Kt=Object(f.a)({},Ht("Thunderbolt"),{imgSrc:wt.a,check:P(["intelligence"],-3),combineWeaponDamage:!1,damageRolls:{light:M(["intelligence"])},focusCost:3}),Nt=Object(f.a)({},Ht("Dark Blast"),{imgSrc:xt.a,check:q(["intelligence"]),combineWeaponDamage:!1,damageRolls:{dark:M(["intelligence"],"2d6",-8)},focusCost:5}),_t=Object(f.a)({},Ht("Healing"),{target:!1,imgSrc:bt.a,check:q(["intelligence"]),combineWeaponDamage:!1,damageRolls:{},focusCost:5,sourceTraits:[Object(f.a)({},ae(),{healthOffset:15})]}),Vt=Object(f.a)({},Ht("Wrath"),{imgSrc:St.a,check:q(["strength"]),combineWeaponDamage:!1,damageRolls:{piercing:M([],"1d6")},focusCost:5,sourceTraits:[Object(f.a)({},ae(),{duration:4,abilitiesModifiers:{strength:2,dexterity:0,intelligence:0,vigor:0}})],targetTraits:[Object(f.a)({},ae(),{duration:4,abilitiesModifiers:{strength:-2,dexterity:0,intelligence:0,vigor:0}})]}),Yt=Object(f.a)({},Ht("Charge"),{imgSrc:It.a,focusCost:5,check:q(["strength"]),combineWeaponDamage:!1,damageRolls:{slashing:M(["strength"],"3d6",-12),piercing:M(["strength"],"3d6",-12)},sourceTraits:[Object(f.a)({},ae(),{duration:2,statsModifiers:{health:0,focus:0,will:0,perception:0,accuracy:0,evade:0,agility:3}})],targetTraits:[Object(f.a)({},ae(),{duration:2,abilitiesModifiers:{strength:0,dexterity:0,intelligence:0,vigor:-3}})]}),Jt=Object(f.a)({},Ht("Skill Shot"),{imgSrc:Mt.a,focusCost:12,check:P(["dexterity"],-4),combineWeaponDamage:!1,damageRolls:{piercing:M(["dexterity"],"1d20"),fire:M([],"8d2",-8)},targetTraits:[Object(f.a)({},ae(),{duration:2,abilitiesModifiers:{strength:0,dexterity:0,intelligence:-2,vigor:0}})]}),Xt=Object(f.a)({},Ht("Vanish"),{imgSrc:Bt.a,focusCost:8,check:P(["dexterity"]),combineWeaponDamage:!1,damageRolls:{},target:!1,sourceTraits:[Object(f.a)({},ae(),{duration:2,statsModifiers:{health:0,focus:0,will:0,perception:2,agility:-2,accuracy:0,evade:20}})]}),Qt=Object(f.a)({},Ht("Shadow Strike"),{imgSrc:Pt.a,focusCost:7,check:P(["evade"],-3),combineWeaponDamage:!1,damageRolls:{piercing:M(["evade"],"1d6",-6)}}),Zt=function(e){return{name:e||"-- init --",id:Object(y.a)(),power:600,resources:{characterPoints:250,weaponHands:1,heads:0,bodies:0,hands:0,fingers:10,feet:0},abilities:{strength:10,dexterity:10,intelligence:10,vigor:10},damageResistances:{slashing:M([]),piercing:M([]),fire:M([]),blood:M([]),light:M([]),dark:M([])},traits:[],skills:[Ft,Ut],equippedItems:[],armor:[at(Pe(["cowl","helmet"])),at(Pe(["chestplate","robe"])),at("gloves"),at("boots")],weapon:ut(Pe(["axe","greataxe","wand","staff","daggers","katana","sword","greatsword","flail","elementalGreatsword","elementalSword"])),healthOffset:0,focusOffset:0,dead:!1,inspected:!1}},en=Object(f.a)({},ut("elementalSword","mythic"),{name:"Sword of Blood and Fire",damageRolls:{slashing:M(["strength"],"1d10",-3),fire:M(["intelligence"],"1d4",-10),blood:M(["intelligence"],"1d4",-10)},events:{onHit:[Object(f.a)({},ae(),{name:"heal on hit",healthOffset:5}),Object(f.a)({},ae(),{name:"restore fp on hit",focusOffset:5})],onCrit:[Object(f.a)({},ae(),{name:"add strenth on crit",abilitiesModifiers:{strength:2,dexterity:0,intelligence:0,vigor:0}})]}}),tn=Object(f.a)({},ut("elementalSword","mythic"),{name:"Sword of the Infinite",damageRolls:{fire:M([],"3d6",-3),blood:M([],"",6),light:M(["intelligence"],"",-7),dark:M(["intelligence"],"1d6",-10),slashing:M([])},events:{onHit:[Object(f.a)({},ae(),{name:"heal on hit",healthOffset:5})],onCrit:[Object(f.a)({},ae(),{name:"add strenth on crit",abilitiesModifiers:{strength:2,dexterity:0,intelligence:0,vigor:0}})]},slotCount:3,slots:[{id:Object(y.a)(),name:"Slash Gem",rarity:"mythic",traits:[Object(f.a)({},Q,{accuracyOffset:2,traits:[Object(f.a)({},ae(),{statsModifiers:{health:0,focus:2,will:0,perception:0,accuracy:0,agility:0,evade:2}})],damageRolls:{slashing:M([],"1d6")}})]}]}),nn={id:Object(y.a)(),name:"Slashing Mod",rarity:"mythic",traits:[Object(f.a)({},Q,{damageRolls:{slashing:M([],"1d6")}})]},an=function(e){return{type:"@actions/parties/upsert-party",payload:{party:e}}},rn=function(e,t){return{type:"@actions/parties/upsert-character",payload:{partyId:e,character:t}}},on=function(e,t){return{type:"@actions/parties/delete-character",payload:{partyId:e,characterId:t}}},cn=function(e,t){return{type:"@actions/parties/upsert-item",payload:{partyId:e,item:t}}},ln=function(e,t){return{type:"@actions/parties/delete-item",payload:{partyId:e,itemId:t}}},sn=function(e,t){return{type:"@actions/parties/upsert-mod",payload:{partyId:e,mod:t}}},dn=function(e,t){return{type:"@actions/parties/delete-mod",payload:{partyId:e,modId:t}}},un={upsertParty:function(e){return function(t){t(an(e))}},upsertCharacter:function(e,t){return function(n){n(rn(e,t))}},deleteCharacter:function(e,t){return function(n){n(on(e,t))}},upsertItem:function(e,t){return function(n){n(cn(e,t))}},removeItem:function(e,t){return function(n){n(ln(e,t))}},upsertMod:function(e,t){return function(n){n(sn(e,t))}},deleteMod:function(e,t){return function(n){n(dn(e,t))}},equipItem:function(e,t,n){return function(a,r){var i=r().parties.find((function(t){return t.id===e}));if(i){var o=i.characters.find((function(e){return e.id===t})),c=i.items.find((function(e){return e.id===n}));o&&c&&he(o)(c)&&(a(rn(e,function(e){return function(t){return he(e)(t)?"armor"===t.type?ve(e)(t):"weapon"===t.type?we(e)(t):be(e)(t):e}}(o)(c))),a(ln(e,c.id)))}}},unequipItem:function(e,t,n){return function(a,r){var i=r().parties.find((function(t){return t.id===e}));if(i){var o=i.characters.find((function(e){return e.id===t}));if(o){var c=pe(o)(n),l=Object(d.a)(c,2),s=l[0],u=l[1];a(rn(e,u)),s.forEach((function(t){a(cn(e,t))}))}}}},equipMod:function(e,t,n){return function(a,r){var i=r().parties.find((function(t){return t.id===e}));if(i){var o=i.characters.find((function(e){return e.id===t})),c=i.mods.find((function(e){return e.id===n}));if(o&&c){var l=o.weapon;l&&l.slotCount>l.slots.length&&(a(rn(e,Object(f.a)({},o,{weapon:Object(f.a)({},l,{slots:[].concat(Object(m.a)(l.slots),[c])})}))),a(dn(e,n)))}}}},unequipMod:function(e,t,n){return function(a,r){console.log("unequip mod");var i=r().parties.find((function(t){return t.id===e}));if(i){var o=i.characters.find((function(e){return e.id===t}));if(o){var c=o.weapon;if(c){var l=c.slots.find((function(e){return e.id===n}));l&&(a(rn(e,Object(f.a)({},o,{weapon:Object(f.a)({},c,{slots:c.slots.filter((function(e){return e.id!==n}))})}))),a(sn(e,l)))}}}}}},fn=(a={},Object(u.a)(a,"@actions/parties/upsert-party",(function(e,t){return Me(e,t.payload.party)})),Object(u.a)(a,"@actions/parties/upsert-character",(function(e,t){return qe(e,t.payload.partyId,(function(e){return Object(f.a)({},e,{characters:Me(e.characters,t.payload.character)})}))})),Object(u.a)(a,"@actions/parties/delete-character",(function(e,t){return qe(e,t.payload.partyId,(function(e){return Object(f.a)({},e,{characters:e.characters.filter((function(e){return e.id!==t.payload.characterId}))})}))})),Object(u.a)(a,"@actions/parties/upsert-item",(function(e,t){return qe(e,t.payload.partyId,(function(e){return Object(f.a)({},e,{items:Me(e.items,t.payload.item)})}))})),Object(u.a)(a,"@actions/parties/delete-item",(function(e,t){return qe(e,t.payload.partyId,(function(e){return Object(f.a)({},e,{items:e.items.filter((function(e){return e.id!==t.payload.itemId}))})}))})),Object(u.a)(a,"@actions/parties/upsert-mod",(function(e,t){return qe(e,t.payload.partyId,(function(e){return Object(f.a)({},e,{mods:Me(e.mods,t.payload.mod)})}))})),Object(u.a)(a,"@actions/parties/delete-mod",(function(e,t){return qe(e,t.payload.partyId,(function(e){return Object(f.a)({},e,{mods:e.mods.filter((function(e){return e.id!==t.payload.modId}))})}))})),a),mn=Zt("Max M"),gn=Zt("Katie C"),hn=Zt("Milo W"),pn=Object(y.a)(),bn=[{id:pn,items:Object(m.a)(Array(80).fill(null).map((function(){return ht()}))),skills:[Vt,Yt,Lt,Xt,Qt,Jt,Kt,$t,Nt,_t],mods:[nn],characters:[Object(f.a)({},mn,{weapon:tn,skills:[].concat(Object(m.a)(mn.skills),[Vt,Yt,Lt,Xt,Qt,Jt,Kt,$t,Nt,_t])}),Object(f.a)({},gn,{skills:[].concat(Object(m.a)(gn.skills),[Vt,Yt,Lt,Xt,Qt,Jt,Kt,$t,Nt,_t]),weapon:en}),Object(f.a)({},hn,{skills:[].concat(Object(m.a)(hn.skills),[Vt,Yt,Lt,Xt,Qt,Jt,Kt,$t,Nt,_t]),weapon:ut("greataxe","mythic")})]}],yn=Re(fn,bn),vn=function(){return function(e,t){var n=Object(Ie.b)();return Object(i.useMemo)((function(){return Object(Te.b)(e,n)}),t?[n].concat(Object(m.a)(t)):[n])}(un)},En={parties:[],rawParties:[],userParty:{id:Object(y.a)(),characters:[],processed:!0,items:[],skills:[],mods:[]},rawUserParty:{id:Object(y.a)(),characters:[],items:[],skills:[],mods:[]},activeCharacterId:null,upsertParty:function(e){},upsertItem:function(e){},upsertCharacter:function(e,t){},deleteCharacter:function(e,t){},upsertMod:function(e,t){},deleteMod:function(e,t){},findCharacter:function(e,t){},findRawCharacter:function(e,t){},equipItem:function(e,t,n){},unequipItem:function(e,t,n){},equipMod:function(e,t,n){},unequipMod:function(e,t,n){},setActiveCharacterId:function(e){}},wn=o.a.createContext(En),On=function(e){var t=e.children,n=vn(),a=Object(Ie.c)((function(e){return e.parties})),r=Object(i.useMemo)((function(){return a.map((function(e){return Se(e)}))}),[a]),c=r.find((function(e){return e.id===pn})),l=a.find((function(e){return e.id===pn})),s=Object(i.useState)(null),u=Object(d.a)(s,2),f=u[0],m=u[1];return o.a.createElement(wn.Provider,{value:{parties:r,rawParties:a,userParty:c,rawUserParty:l,activeCharacterId:f,upsertParty:function(e){if(e){if(e.processed)throw new Error("No Processed Parties Allowed");n.upsertParty(e)}},upsertItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;n.upsertItem(t,e)},upsertCharacter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;if(e){if(e.processed)throw new Error("No processed Characters Allowed");n.upsertCharacter(t,e)}},deleteCharacter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;n.deleteCharacter(t,e)},upsertMod:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;n.upsertMod(t,e)},deleteMod:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;n.deleteMod(t,e)},equipItem:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pn;n.equipItem(a,e,t)},unequipItem:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pn;n.unequipItem(a,e,t)},equipMod:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pn;n.equipMod(a,e,t)},unequipMod:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pn;n.unequipMod(a,e,t)},findCharacter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn,n=r.find((function(e){return e.id===t}));return n.characters.find((function(t){return t.id===e}))},findRawCharacter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn,n=a.find((function(e){return e.id===t}));return n.characters.find((function(t){return t.id===e}))},setActiveCharacterId:m}},t)},xn=function(){return Object(i.useContext)(wn)},kn=function(e){return{type:"@state/rolls/ADD_ROLL",payload:{rollResult:e}}},jn=Object(u.a)({},"@state/rolls/ADD_ROLL",(function(e,t){return[].concat(Object(m.a)(e),[t.payload.rollResult])})),Cn=Re(jn,[]),Sn=o.a.createContext({history:[],execRoll:function(e){return{}},execCheck:function(e){return{}},rollCharacter:function(e){return function(t,n,a){return A(t,e)}},checkCharacter:function(e){return function(t,n,a){return H(t,e)}},getProbability:function(e){return 0}}),Rn=function(){return Object(i.useContext)(Sn)},In=function(e){var t=e.children,n=e.rolls,a=e.addRoll,r=qn(),i=e.character||r.character;return o.a.createElement(Sn.Provider,{value:{history:n,execRoll:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=e.keys?A(e,i,n):x(e,n);return t&&a(o,r),o},execCheck:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=e.keys?H(e,i,n):C(e,n);return t&&a(o,r),o},rollCharacter:function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=A(t,e,r);return n&&a(o,i),o}},checkCharacter:function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=H(t,e,r);return n&&a(o,i),o}},getProbability:function(e){return j(G(e,i))}}},t)},Tn=function(e){var t=e.children,n=e.character,a=Object(Ie.c)((function(e){return e.rolls})),r=Object(Ie.b)();return o.a.createElement(In,{rolls:a,addRoll:function(e,t){r(kn(Object(f.a)({},e,{label:t})))},character:n},t)},Mn=o.a.createContext({rawCharacter:Ce,character:se(Ce),onChange:function(e){}}),qn=function(){return Object(i.useContext)(Mn)},Pn=function(e){var t=e.character,n=e.children,a=e.onChange,r=Object(i.useMemo)((function(){return se(t)}),[t]);return o.a.createElement(Mn.Provider,{value:{character:r,rawCharacter:t,onChange:a}},o.a.createElement(Tn,null,n))},Dn=function(e){var t=e.children,n=e.characterId,a=xn(),r=a.activeCharacterId,i=a.rawUserParty,c=a.upsertCharacter,l=i.characters.find((function(e){return e.id===n}))||i.characters.find((function(e){return e.id===r}))||Ce;return o.a.createElement(Pn,{character:l,onChange:function(e){if(e){if(e.processed)throw new Error("no process characters allowed");c(e)}}},t)},Bn=n(41),Wn=Object(Bn.b)("div",(function(e){return{display:"flex",flexDirection:e.$direction||"row",flex:e.$full?1:"default"}})),zn=Object(Bn.b)("div",(function(){return{flex:1}})),Gn=n(51),An=n.n(Gn),Hn=n(137),Fn=n.n(Hn),Un=n(138),$n=n.n(Un),Ln=n(139),Kn=n.n(Ln),Nn=n(140),_n=n.n(Nn),Vn=n(141),Yn=n.n(Vn),Jn=n(142),Xn=n.n(Jn),Qn=n(143),Zn=n.n(Qn),ea=n(144),ta=n.n(ea),na=n(145),aa=n.n(na),ra=n(146),ia=n.n(ra),oa=n(147),ca=n.n(oa),la=n(148),sa=n.n(la),da=n(149),ua=n.n(da),fa=n(150),ma=n.n(fa),ga=n(151),ha=n.n(ga),pa=n(152),ba=n.n(pa),ya=n(153),va=n.n(ya),Ea=n(154),wa=n.n(Ea),Oa=n(155),xa=n.n(Oa),ka=n(156),ja=n.n(ka),Ca=n(157),Sa=n.n(Ca),Ra=n(158),Ia=n.n(Ra),Ta=n(159),Ma=n.n(Ta),qa=n(160),Pa=n.n(qa),Da=n(161),Ba=n.n(Da),Wa=n(162),za=n.n(Wa),Ga=n(163),Aa=n.n(Ga),Ha=n(74),Fa=n.n(Ha),Ua=n(164),$a=n.n(Ua),La=n(165),Ka=n.n(La),Na=n(75),_a=n.n(Na),Va=n(166),Ya=n.n(Va),Ja=n(167),Xa=n.n(Ja),Qa=n(168),Za=n.n(Qa),er=n(169),tr=n.n(er),nr=n(170),ar=n.n(nr),rr=n(171),ir=n.n(rr),or=n(172),cr=n.n(or),lr={weaponHands:An.a,characterPoints:Fn.a,heads:$n.a,bodies:Kn.a,hands:_n.a,fingers:Yn.a,feet:Xn.a},sr={slashing:Zn.a,piercing:ta.a,fire:aa.a,blood:ia.a,light:ca.a,dark:sa.a},dr={weapon:"",armor:"",shield:ua.a,tome:ma.a},ur={fists:ha.a,axe:ba.a,greataxe:va.a,flail:ja.a,daggers:Sa.a,katana:Ia.a,rapier:Ma.a,wand:Pa.a,staff:Ba.a,elementalSword:Fa.a,elementalGreatsword:_a.a,sword:wa.a,greatsword:xa.a,pistol:za.a,crossbow:Aa.a},fr={"fire-sword":Fa.a,"blood-sword":$a.a,"light-sword":Ka.a,"dark-sword":_a.a},mr={helmet:Ya.a,cowl:Xa.a,chestplate:Za.a,robe:tr.a,gloves:ar.a,ring:ir.a,boots:cr.a},gr=function(e){var t=e.src,n=e.size,a=e.style,r=void 0===a?{}:a,c=e.fill,l=void 0===c?"white":c,s=e.onClick,u=Object(i.useState)(!0),m=Object(d.a)(u,2),g=m[0],h=m[1],p=Object(i.useState)(""),b=Object(d.a)(p,2),y=b[0],v=b[1];return Object(i.useEffect)((function(){t&&fetch(t).then((function(e){return e.text()})).then((function(e){return v(e)})).then((function(){return h(!1)}))}),[t]),g?o.a.createElement("div",null):o.a.createElement("div",{onClick:function(){s&&s()},style:Object(f.a)({},r,{height:n,width:n,fill:l}),dangerouslySetInnerHTML:{__html:y}})},hr=n(189),pr=n(76),br=n.n(pr),yr=n(173),vr=function(e){var t=e.delay,n=void 0===t?500:t,a=e.children,r=Object(i.useState)(!1),c=Object(d.a)(r,2),l=c[0],s=c[1],u=Object(i.useState)(!1),f=Object(d.a)(u,2),m=f[0],g=f[1],h=Object(i.useState)(Object(y.a)()),p=Object(d.a)(h,2),b=p[0],v=p[1];Object(i.useLayoutEffect)((function(){(function(){var e=Object(yr.a)(br.a.mark((function e(){return br.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l&&setTimeout((function(){v(Object(y.a)())}),n);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),Object(i.useLayoutEffect)((function(){l&&g(!0)}),[b]);return o.a.createElement("div",{onMouseEnter:function(e){e.preventDefault(),e.stopPropagation(),s(!0)},onMouseLeave:function(e){e.preventDefault(),e.stopPropagation(),s(!1),g(!1)}},a({isHovering:m}))},Er=function(e){var t=e.style,n=void 0===t?{}:t,a=e.substyle,r=void 0===a?{}:a,i=e.children,c=e.tag,l=void 0===c?"div":c,s=Object(hr.a)(e,["style","substyle","children","tag"]);return o.a.createElement("div",{style:Object(f.a)({border:"1px solid #000",display:"flex",boxSizing:"border-box"},n)},o.a.createElement(l,Object.assign({style:Object(f.a)({border:r.border||"1px solid #555",background:"linear-gradient(0deg, #222222 0%, #2a2a2a 100%)",padding:10,color:"#ccc",flex:1},r)},s),i))},wr=function(e){return o.a.createElement(Er,Object.assign({},e,{style:Object(f.a)({height:40,width:40},e.style),substyle:Object(f.a)({display:"flex",padding:0,justifyContent:"center",alignItems:"center",background:"#111"},e.substyle)}),e.children)},Or=function(e){return o.a.createElement(vr,{delay:0},(function(t){var n=t.isHovering;return o.a.createElement(Er,Object.assign({},e,{tag:"button",style:Object(f.a)({margin:0},e.style||{}),substyle:Object(f.a)({borderColor:n?"#999":"#555",padding:"4px",cursor:e.disabled?"default":"pointer",background:e.disabled?"#444":"#111"},e.substyle||{})}))}))},xr=function(e){var t=e.id,n=qn().character,a=lr[t];return o.a.createElement(Er,{substyle:{display:"flex",padding:4,fontFamily:"monospace",fontSize:16}},o.a.createElement("div",{style:{flex:1,marginRight:10}},o.a.createElement(gr,{size:18,src:a})),n.resources[t])},kr=function(e){var t=e.id,n=e.edit,a=void 0===n||n,r=qn(),i=r.character,c=r.rawCharacter,l=r.onChange,s=xn().upsertItem,u=Rn().execCheck,f=me[t],m=c.abilities[t],g=i.abilities[t],h=ge[t],p=i.resources.characterPoints;return o.a.createElement(jr,{name:f,value:g,rawValue:m,points:p,cost:h,edit:a,onClick:function(){u(q([t]))},onIncrement:function(){var e=fe(c)(t,m+1,p-h),n=Object(d.a)(e,2),a=n[0],r=n[1];l(a),r.forEach((function(e){s(e)}))},onDecrement:function(){var e=fe(c)(t,m-1,p+h),n=Object(d.a)(e,2),a=n[0],r=n[1];l(a),r.forEach((function(e){s(e)}))}})},jr=function(e){var t=e.name,n=e.edit,a=e.rawValue,r=e.value,i=e.points,c=e.cost,l=e.onClick,s=e.onIncrement,d=e.onDecrement;return o.a.createElement(Er,{substyle:{padding:0,display:"flex",fontFamily:"monospace"}},o.a.createElement(Wn,{style:{padding:8,marginRight:10,whiteSpace:"nowrap"},$direction:"column",$full:!0},o.a.createElement("a",{href:"#",onClick:l},t," (",a,")"),o.a.createElement("span",{style:{fontSize:36,fontWeight:"bolder"}},r)),n&&o.a.createElement(Wn,{$direction:"column",style:{width:30}},o.a.createElement(Or,{style:{margin:0},disabled:i<c||18===a,onClick:s},"+"),o.a.createElement(Wn,{$full:!0,style:{alignItems:"center",justifyContent:"center"}},o.a.createElement("div",null,c)),o.a.createElement(Or,{style:{margin:0},disabled:3===a,onClick:d},"-")))},Cr=function(e){var t=e.id,n=qn().character,a=Rn().execCheck,r=t;return o.a.createElement(Er,{style:{flex:1},substyle:{display:"flex",fontFamily:"monospace",alignItems:"center"}},o.a.createElement("a",{href:"#",style:{display:"inline-block",flex:1,marginRight:10},onClick:function(){return a(q([t]))}},r),o.a.createElement("span",null,n.stats[t]))},Sr=function(e){var t=e.id,n=qn().character,a=Rn().execRoll,r=n.damageResistances[t],i=r?"(".concat(F(z(r,n)),")"):"",c=sr[t],l=$[t];return o.a.createElement(Er,{style:{flex:1},substyle:{display:"flex",whiteSpace:"nowrap",fontFamily:"monospace",alignItems:"center"}},o.a.createElement("div",{style:{flex:1,marginRight:20}},o.a.createElement(Wn,null,o.a.createElement(gr,{size:18,src:c,fill:l,style:{marginRight:10}}),o.a.createElement("a",{href:"#",onClick:function(){return r?a(r):null}},t))),o.a.createElement("div",null,i||0))},Rr=n(12),Ir=n.n(Rr),Tr=function(){return arguments.length<=1?void 0:arguments[1]},Mr=function(){return arguments.length<=2?void 0:arguments[2]},qr=["lightcoral","inherit","lightgreen"],Pr=function(e,t){return n=(a=e-t)<0?-1:a>0?1:0,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t[n+1]};var n,a},Dr=function(e){var t=e.trait,n=e.compareResult,a=void 0===n?function(e){return Tr}:n,r=t.abilitiesModifiers,i=t.statsModifiers,c=g(r).filter((function(e){return 0!==xe(t,e)})),l=g(i).filter((function(e){return 0!==xe(t,e)}));return o.a.createElement("div",{style:{fontFamily:"monospace"}},0!==t.focusOffset&&o.a.createElement("span",null,b(t.focusOffset),Math.abs(t.focusOffset)," FP",0!==t.healthOffset||c.length>0||l.length>0?", ":""),0!==t.healthOffset&&o.a.createElement("span",null,b(t.healthOffset),Math.abs(t.healthOffset)," HP",c.length>0||l.length>0?", ":""),c.map((function(e,n){return o.a.createElement("span",{key:e},n>0?", ":"",o.a.createElement("span",{style:{color:a(e).apply(void 0,Object(m.a)(qr))}},b(xe(t,e)),Math.abs(xe(t,e))," ",me[e]))})),c.length>0&&l.length>0&&", ",l.map((function(e,n){return o.a.createElement("span",{key:e},n>0?", ":"",o.a.createElement("span",{style:{color:a(e).apply(void 0,Object(m.a)(qr))}},b(xe(t,e)),Math.abs(xe(t,e))," ",me[e]))})))},Br=function(e){return p(e,"".concat(Math.abs(e)))},Wr=n(31),zr=n.n(Wr),Gr=function(e){var t=e.check,n=e.name,a=e.showCheckButton,r=void 0===a||a,c=e.compareResult,l=void 0===c?Tr:c,s=Rn(),d=s.execCheck,u=s.getProbability,f=t.value||0,g=(t.keys||[]).map((function(e){return me[e]})),h=g.reduce((function(e,t,n){return"".concat(e).concat(0!==n?"+":"").concat(t)}),"")+(0===g.length?"":b(f)),p=t.roll.string?" {".concat(t.roll.string,"} "):"",y=Object(i.useMemo)((function(){return u(t,!0)}),[t,u]);return o.a.createElement(Wn,null,o.a.createElement("div",{style:{marginRight:10,flex:1,color:l.apply(void 0,Object(m.a)(qr))}},n&&o.a.createElement("strong",null,n),o.a.createElement("div",{style:{fontFamily:"monospace",whiteSpace:"nowrap"}},p,h,p&&Br(f)," ",!p&&" = "+Br(t.roll.modifier)," (",y,"%)")),r&&o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return d(t)}},o.a.createElement(gr,{src:zr.a,size:18,fill:"4bebc6"}))))},Ar=function(e){var t=e.item,n=e.size,a=e.fill,r=e.style,i=mr[t.armorType];return o.a.createElement(gr,{src:i,size:n,fill:a,style:r})},Hr={common:"#fff",uncommon:"#9fbd9f",rare:"#91b4f2",legendary:"#cda5f3",unique:"#c2af6b",mythic:"lightsalmon",set:"#38f5e2"},Fr=function(e){var t=e.item,n=e.size,a=e.fill,r=e.style,i=dr[t.type];return o.a.createElement(gr,{src:i,size:n,fill:a,style:r})},Ur=function(e){var t=e.item,n=e.showEquipButton,a=void 0===n||n,r=e.showRequirementCheck,c=void 0===r||r,l=e.showCollapseButton,s=void 0!==l&&l,u=qn().rawCharacter,f=xn().unequipItem,g=Object(i.useState)(!1),h=Object(d.a)(g,2),p=h[0],b=h[1],y=e.requirementCompare||Tr,v=e.traitCompare||function(e){return Tr},E=e.resistancesCompare||function(e){return Tr},w=e.costComare||Tr,O="armor"===t.type,x=Hr[t.rarity],k=Ir()(x).desaturate(.5).fade(.5).rgb().string();return o.a.createElement(Er,{style:{width:380},substyle:{borderColor:k}},o.a.createElement(Wn,null,O?o.a.createElement(Ar,{item:t,size:24,fill:x,style:{marginRight:10}}):o.a.createElement(Fr,{item:t,size:24,style:{marginRight:10},fill:x}),o.a.createElement("h3",{style:{margin:"0 10px 0 0",flex:1,whiteSpace:"nowrap"}},t.name),s&&o.a.createElement(Or,{substyle:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){b((function(e){return!e}))}},p?"more":"less"),!a&&o.a.createElement(Wn,{style:{margin:"0 0 10px 0",fontWeight:"bold",fontSize:12,color:w.apply(void 0,Object(m.a)(qr))}},o.a.createElement(gr,{src:lr[t.resource],size:12,fill:w("lightcoral","white","lightgreen"),style:{margin:"0 8px"}}),t.cost),a&&o.a.createElement(Or,{substyle:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){f(u.id,t.id)}},o.a.createElement(gr,{src:lr[t.resource],size:12,fill:"rgba(255,255,255,0.8)",style:{marginRight:10}}),t.cost)),!p&&o.a.createElement(o.a.Fragment,null,1!==t.requirementCheck.roll.modifier&&c&&o.a.createElement("div",{style:{marginTop:10}},o.a.createElement(Gr,{name:"Requirement",check:t.requirementCheck,showCheckButton:!1,compareResult:y})),o.a.createElement(Wn,{$direction:"column"},t.traits.map((function(e){return o.a.createElement("div",{key:e.id,style:{marginTop:10}},o.a.createElement(Dr,{trait:e,compareResult:v}))})),t.damageResistances&&o.a.createElement(Wn,{style:{fontFamily:"monospace",flexWrap:"wrap",marginTop:15,justifyContent:"space-evenly"}},L(t.damageResistances).filter((function(e){return t.damageResistances[e]})).map((function(e){return o.a.createElement(Wn,{key:e},o.a.createElement(gr,{src:sr[e],size:14,fill:$[e],style:{marginRight:8}}),o.a.createElement("div",{style:{fontSize:16,lineHeight:"16px",color:E(e).apply(void 0,Object(m.a)(qr))}},U(t.damageResistances[e])||0))}))))))},$r={helmet:0,cowl:0,chestplate:1,robe:1,gloves:2,ring:3,boots:4},Lr=n(10),Kr=n.n(Lr),Nr=function(e){var t=e.weapon,n=e.size,a=e.fill,r=e.style,i=t.icon?fr[t.icon]:ur[t.weaponType];return o.a.createElement(gr,{src:i,size:n,fill:a,style:r})},_r=function(e){var t=e.parent,n=e.children,a=qn().character,r=t.damageRolls,i=g(r).filter((function(e){return r[e]})),c=i.map((function(e){return r[e]})).filter((function(e){return e}));return o.a.createElement(Er,{style:{whiteSpace:"nowrap"},substyle:{padding:"4px 10px",background:"#111"}},n(i.map((function(e){return{id:e,key:e,damageRangeText:(t=r[e],F(z(t,a))),damageRollText:U(r[e])};var t})),W.apply(void 0,Object(m.a)(c))))},Vr=function(e){var t=e.id,n=e.damageRangeText,a=e.damageRollText,r=e.compareResult,i=void 0===r?Tr:r;return a?o.a.createElement(Wn,{key:t,style:{alignItems:"flex-end",padding:"4px 0",height:24,lineHeight:"24px"}},o.a.createElement("h3",{style:{margin:"0 8px 0 0"}},o.a.createElement("span",{style:{color:i.apply(void 0,Object(m.a)(qr))}},"(",n,")")," ",o.a.createElement("span",{style:{color:"rgba(255,255,255, 0.5)"}},a)),o.a.createElement(gr,{src:sr[t],size:20,fill:$[t],style:{marginBottom:2}})):null},Yr=n(40),Jr=n.n(Yr),Xr=function(e){var t=e.mod,n=e.onEquip,a=(qn().character,Z.apply(void 0,Object(m.a)(t.traits))),r=ke(a.traits);return o.a.createElement(Er,null,o.a.createElement(Wn,null,o.a.createElement(gr,{src:Jr.a,size:24}),o.a.createElement("span",{style:{margin:"0 10px",flex:1,fontWeight:"bold",whiteSpace:"nowrap"}},t.name),o.a.createElement(Or,{onClick:function(){return n&&n(t.id)}},"equip")),0!==a.accuracyOffset&&o.a.createElement("div",{style:{fontFamily:"monospace",marginTop:10}},b(a.accuracyOffset),Math.abs(a.accuracyOffset)," to hit"),o.a.createElement("div",{style:{marginBottom:10}},o.a.createElement(Dr,{trait:r})),o.a.createElement(_r,{parent:a},(function(e,t){return e.map((function(e){return o.a.createElement(Vr,{key:e.id,id:e.id,damageRangeText:e.damageRangeText,damageRollText:e.damageRollText})}))})))},Qr=function(e){var t=qn(),n=t.character,a=t.rawCharacter,r=(t.onChange,xn()),i=r.unequipItem,c=r.unequipMod,l=e.showEquipButton,s=void 0===l||l,d=e.showRequirement,u=void 0===d||d,f=e.weapon||n.weapon,h=Hr[f.rarity],p=Ir()(h).desaturate(.5).fade(.5).rgb().string(),b=e.requirementCompare||Tr,y=e.accuracyCompare||Tr,v=e.traitCompare||function(e){return Tr},E=e.damageCompare||function(e){return Tr},w=e.costComare||Tr,O=ke(f.traits);return o.a.createElement(Er,{style:{width:380},substyle:{borderColor:p}},o.a.createElement(Wn,{style:{marginBottom:10}},o.a.createElement(Nr,{weapon:f,size:24,fill:h}),o.a.createElement("h3",{style:{margin:"0 0 0 10px",flex:1}},f.name),f.id!==re.id&&s?o.a.createElement(Or,{substyle:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return i(a.id,f.id)}},o.a.createElement(gr,{src:lr[f.resource],size:12,fill:"rgba(255,255,255,0.8)",style:{marginRight:10}}),f.cost):o.a.createElement(Wn,{style:{margin:"0 0 10px 0",fontWeight:"bold",fontSize:12,color:w.apply(void 0,Object(m.a)(qr))}},o.a.createElement(gr,{src:lr.weaponHands,size:12,style:{margin:"0 8px"},fill:w("lightcoral","white","lightgreen")}),f.cost)),o.a.createElement(Wn,{style:{marginBottom:10}},u&&o.a.createElement(zn,null,o.a.createElement(Gr,{name:"Requirement",showCheckButton:!1,check:f.requirementCheck,compareResult:b})),o.a.createElement(zn,null,o.a.createElement(Gr,{name:"Accuracy",showCheckButton:!1,check:f.accuracyCheck,compareResult:y}))),o.a.createElement("div",{style:{marginBottom:10}},o.a.createElement(Dr,{trait:O,compareResult:v})),o.a.createElement("div",{style:{marginBottom:10}},g(f.events).map((function(e){return o.a.createElement(Wn,{key:e,style:{alignItems:"center"}},o.a.createElement("strong",{style:{fontFamily:"monospace",marginRight:10,color:"rgba(255,255,255,0.5)"}},Y[e],":"),o.a.createElement(Dr,{trait:ke(f.events[e])}))}))),o.a.createElement(Wn,{style:{justifyContent:"center",padding:8}},Array(f.slotCount).fill(null).map((function(e,t){var a=f.slots[t];return a?o.a.createElement(vr,null,(function(e){var t=e.isHovering;return o.a.createElement(Kr.a,{isOpen:t,direction:"up",tagName:"div",padding:"0",arrow:!1,content:o.a.createElement(Xr,{mod:a})},o.a.createElement(gr,{src:Jr.a,size:20,fill:Hr[a.rarity],style:{padding:"0 8px",cursor:"pointer"},onClick:function(){console.log("click"),c(n.id,a.id)}}))})):o.a.createElement(gr,{src:Jr.a,size:20,fill:"rgba(255,255,255,0.4)",style:{padding:"0 8px"}})}))),o.a.createElement(_r,{parent:f},(function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{fontFamily:"monospace",color:"rgba(255,255,255,0.25)"}},"(",F(z(t,n)),")"," ",U(t)),e.map((function(e){return o.a.createElement(Vr,{key:e.id,id:e.id,damageRangeText:e.damageRangeText,damageRollText:e.damageRollText,compareResult:E(e.id)})})))})))},Zr=function(e){var t=e.item,n=void 0===t?{}:t,a=e.size,r=void 0===a?38:a,c=e.onClick,l=void 0===n.type,s=Hr[n?n.rarity:"common"],d=Ir()(s).desaturate(.5).fade(.5).rgb().string(),u="armor"===n.type,f="weapon"===n.type,m=Object(i.useMemo)((function(){return n?f?o.a.createElement(Nr,{weapon:n,size:r-16,fill:s}):u?o.a.createElement(Ar,{item:n,size:r-16,fill:s}):void 0:null}),[n,u,f,s]);return n?o.a.createElement(vr,null,(function(e){var t=e.isHovering;return o.a.createElement(Kr.a,{isOpen:t,direction:"bottom",tagName:"div",padding:"0",arrow:!1,content:"armor"===n.type?o.a.createElement(Ur,{item:n,showEquipButton:!1,showCollapseButton:!1}):o.a.createElement(Qr,{weapon:n,showEquipButton:!1})},o.a.createElement(Er,{style:{height:r,width:r,cursor:n&&c?"pointer":"default"},substyle:{background:l?"#111":"#222",boxShadow:"inset 0 0 3px black",border:"1px solid ".concat(l?"#555":d),display:"flex",alignItems:"center",justifyContent:"center",padding:0},onClick:function(){return c&&c(n)}},m))})):null},ei=function(e){var t=qn(),n=t.character,a=t.rawCharacter,r=xn().unequipItem,i=n.armor,c=i.filter((function(e){return"ring"===e.armorType})),l=Array(10-c.length).fill(void 0);return o.a.createElement("div",null,o.a.createElement(Wn,null,[].concat(Object(m.a)(l),Object(m.a)(c)).map((function(e){return o.a.createElement(Zr,{key:e?e.id:Object(y.a)(),item:e,onClick:function(e){return r(a.id,e.id)}})}))),i.filter((function(e){return"ring"!==e.armorType})).sort((function(e,t){return $r[e.armorType]-$r[t.armorType]})).map((function(e){return o.a.createElement(Ur,{key:e.id,item:e,showRequirementCheck:!1,showCollapseButton:!1})})))},ti=n(174),ni=n.n(ti),ai=function(e){var t=e.name,n=void 0===t?"":t,a=e.value,r=e.max,c=e.color,l=e.height,s=void 0===l?30:l,u=e.children,f=Object(i.useState)(!1),m=Object(d.a)(f,2),g=m[0],h=m[1],p=a/r*100,b=p>100?100:p;return o.a.createElement(Kr.a,{isOpen:g,direction:"right",tagName:"div",padding:"0",content:o.a.createElement(Er,null,"".concat(n," (").concat(a," / ").concat(r,")"))},o.a.createElement(Er,{substyle:{padding:0,background:"#555",height:s-2,position:"relative"},onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)}},o.a.createElement(Wn,{style:{position:"absolute",left:0,boxSizing:"border-box",height:s-2,maxWidth:"".concat(b,"%"),minWidth:"".concat(b,"%"),border:b>0?"1px solid ".concat(Ir()(c).lighten(.5)):"none",boxShadow:"inset 1px 1px 0px rgba(0,0,0,0.5)",textShadow:"1px 1px 1px black",backgroundColor:c,color:"white",alignItems:"center",justifyContent:"center",transition:"all 0.5s"}}),o.a.createElement(zn,{style:{position:"absolute",height:s,lineHeight:"".concat(s-2,"px"),right:4,top:0,fontFamily:"monospace",fontWeight:"bold",overflow:"hidden",textShadow:"0px 0px 3px black"}},u)))},ri=function(){qn().character;return o.a.createElement(Wn,null,o.a.createElement(Wn,{$direction:"column"},o.a.createElement(kr,{id:"strength",edit:!1}),o.a.createElement(kr,{id:"dexterity",edit:!1}),o.a.createElement(kr,{id:"intelligence",edit:!1}),o.a.createElement(kr,{id:"vigor",edit:!1})),o.a.createElement(Wn,{$direction:"column"},o.a.createElement(Cr,{id:"health"}),o.a.createElement(Cr,{id:"focus"}),o.a.createElement(Cr,{id:"will"}),o.a.createElement(Cr,{id:"perception"}),o.a.createElement(Cr,{id:"agility"}),o.a.createElement(Cr,{id:"accuracy"}),o.a.createElement(Cr,{id:"evade"})),o.a.createElement(Wn,{$direction:"column"},o.a.createElement(Sr,{id:"slashing"}),o.a.createElement(Sr,{id:"piercing"}),o.a.createElement(Sr,{id:"fire"}),o.a.createElement(Sr,{id:"blood"}),o.a.createElement(Sr,{id:"light"}),o.a.createElement(Sr,{id:"dark"})))},ii=n(175),oi=n.n(ii),ci=n(176),li=n.n(ci),si=n(177),di=n.n(si),ui=n(178),fi=n.n(ui),mi=function(e){var t=e.skillId,n=qn().character,a=e.skill||n.skills.find((function(e){return e.id===t}))||Ht();return o.a.createElement(Er,{style:{width:380,background:"url(".concat(a.imgSrc,") no-repeat center center"),backgroundSize:"cover"},substyle:{background:"rgba(0,0,0,0.8)",borderColor:"rgba(255,255,255,0.5)"}},o.a.createElement(Wn,{style:{marginBottom:10}},o.a.createElement("h3",{style:{margin:"0 10px 0 0",flex:1}},a.name)),o.a.createElement(Wn,{style:{marginBottom:10}},o.a.createElement("strong",{style:{marginRight:10}},"Cost"),o.a.createElement("span",null,a.focusCost)),o.a.createElement(Wn,{style:{marginBottom:10}},o.a.createElement(zn,null,o.a.createElement(Gr,{name:"Requirement",showCheckButton:!1,check:a.requirementCheck})),a.check&&o.a.createElement(zn,null,o.a.createElement(Gr,{name:"Skill Check",showCheckButton:!1,check:a.check})),a.combineWeaponDamage&&o.a.createElement(zn,null,o.a.createElement(Gr,{name:"Accuracy",showCheckButton:!1,check:n.weapon.accuracyCheck}))),a.targetTraits.length>0&&o.a.createElement(Wn,{style:{marginBottom:10}},o.a.createElement("strong",{style:{fontFamily:"monospace",marginRight:10,color:"rgba(255,255,255,0.5)"}},"target:"),o.a.createElement(Dr,{trait:ke(a.targetTraits)})),a.sourceTraits.length>0&&o.a.createElement(Wn,{style:{marginBottom:10}},o.a.createElement("strong",{style:{fontFamily:"monospace",marginRight:10,color:"rgba(255,255,255,0.5)"}},"self:"),o.a.createElement(Dr,{trait:ke(a.sourceTraits)})),o.a.createElement("div",{style:{marginBottom:10}},g(a.events).map((function(e){return o.a.createElement(Wn,{key:e,style:{alignItems:"center"}},o.a.createElement("strong",{style:{fontFamily:"monospace",marginRight:10,color:"rgba(255,255,255,0.5)"}},Y[e],":"),o.a.createElement(Dr,{trait:ke(a.events[e])}))}))),a.combineWeaponDamage&&o.a.createElement("div",{style:{marginBottom:10}},g(n.weapon.events).map((function(e){return o.a.createElement(Wn,{key:e,style:{alignItems:"center"}},o.a.createElement("strong",{style:{fontFamily:"monospace",marginRight:10,color:"rgba(255,255,255,0.5)"}},Y[e],":"),o.a.createElement(Dr,{trait:ke(n.weapon.events[e])}))}))),(a.combineWeaponDamage||Object.keys(a.damageRolls).length>0)&&o.a.createElement(_r,{parent:a.combineWeaponDamage?n.weapon:a},(function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{fontFamily:"monospace",color:"rgba(255,255,255,0.25)"}},"(",F(z(t,n)),")"," ",U(t)),e.map((function(e){return o.a.createElement(Vr,{key:e.id,id:e.id,damageRangeText:e.damageRangeText,damageRollText:e.damageRollText})})))})))},gi=function(e){var t=e.activeSkillId,n=void 0===t?Ft.id:t,a=e.skills,r=e.onClick,i=qn().character,c=function(e){return n===e};return o.a.createElement(Wn,{style:{marginBottom:2}},a.map((function(e){return o.a.createElement(hi,{key:e.id,skill:e,disabled:i.dead||i.stats.focus-i.focusOffset<e.focusCost,onClick:function(){return r(e.id)},style:Object(f.a)({padding:0,height:36,maxWidth:36,margin:0,borderColor:"transparent",opacity:i.dead||i.stats.focus-i.focusOffset<e.focusCost?.2:c(e.id)?1:.7},c(e.id)?{borderColor:"turquoise"}:{})})})))},hi=function(e){var t=e.skill,n=e.disabled,a=e.style,r=e.onClick,i=t.id===Ft.id||t.id===Ut.id;return o.a.createElement(vr,null,(function(e){var c=e.isHovering;return o.a.createElement(Kr.a,{isOpen:c,direction:"down",tagName:"div",padding:"0",arrow:!1,content:i?o.a.createElement(Er,null,t.name):o.a.createElement(mi,{skillId:t.id,skill:t})},o.a.createElement(Er,{onClick:function(){return!n&&r(t.id)},substyle:Object(f.a)({borderColor:c?"#999":"#555",padding:"4px",cursor:n?"default":"pointer",background:n?"#444":"#111"},a),style:{border:"none"}},t.imgSrc&&o.a.createElement("img",{src:t.imgSrc,height:34,width:34,style:{height:34,maxWidth:34,boxSizing:"border-box",border:"1px solid black"}})))}))},pi=n(52),bi={dictionaries:[pi.a,pi.b],length:2,separator:" "},yi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{id:Object(y.a)(),npc:!0,name:Object(pi.c)(bi),power:600,resources:Object(f.a)({characterPoints:250,weaponHands:2,heads:1,bodies:1,hands:2,fingers:10,feet:2},n),abilities:Object(f.a)({strength:10,dexterity:10,intelligence:10,vigor:10},e),damageResistances:Object(f.a)({slashing:M([]),piercing:M([]),fire:M([]),blood:M([]),light:M([]),dark:M([])},t),weapon:ut(Pe(["axe","greataxe","wand","staff","daggers","katana","sword","greatsword","flail","elementalGreatsword","elementalSword"])),traits:[],skills:[Ft],equippedItems:[],armor:[at("cowl"),at("chestplate"),at("gloves"),at("boots")],healthOffset:0,focusOffset:0,dead:!1,inspected:!1}},vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.a)();return{id:e,items:[],skills:[],mods:[],characters:[yi(),yi(),yi(),yi(),yi()].map((function(t){return Object(f.a)({},t,{partyId:e})}))}},Ei=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return o.a.createElement("span",{style:{color:e,fontWeight:n?"bold":"normal"}},t)},wi=function(e){return Pi(e)?Ei("lightgreen",e.name):Ei("lightsalmon",e.name)},Oi=function(e){return 0!==e},xi=function(e){return e>0?"gained":"lost"},ki=function(e,t,n,a){e.targetTraits.forEach((function(e){var t=n.focusOffset-e.focusOffset,r=t<0?e.focusOffset+t:e.focusOffset;Oi(r)&&a(o.a.createElement("span",null,wi(n)," ",xi(r)," ",r," FP.")),g(e.abilitiesModifiers).forEach((function(t){Oi(e.abilitiesModifiers[t])&&a(o.a.createElement("span",null,wi(n)," ",xi(e.abilitiesModifiers[t])," ",e.abilitiesModifiers[t]," ",t,"."," ",e.duration>1&&"(".concat(e.duration-1)))})),g(e.statsModifiers).forEach((function(t){Oi(e.statsModifiers[t])&&a(o.a.createElement("span",null,wi(n)," ",xi(e.statsModifiers[t])," ",e.statsModifiers[t]," ",t,"."," ",e.duration>1&&"(".concat(e.duration-1,")")))}))})),e.sourceTraits.forEach((function(e){var n=t.focusOffset-e.focusOffset,r=n<0?e.focusOffset+n:e.focusOffset;Oi(r)&&a(o.a.createElement("span",null,wi(t)," ",xi(r)," ",r," FP."));var i=t.healthOffset-e.healthOffset,c=i<0?e.healthOffset+i:e.healthOffset;Oi(c)&&a(o.a.createElement("span",null,wi(t)," ",xi(c)," ",c," HP.")),g(e.abilitiesModifiers).forEach((function(n){Oi(e.abilitiesModifiers[n])&&a(o.a.createElement("span",null,wi(t)," ",xi(e.abilitiesModifiers[n])," ",e.abilitiesModifiers[n]," ",n,"."," ",e.duration>1&&"(".concat(e.duration-1,")")))})),g(e.statsModifiers).forEach((function(n){Oi(e.statsModifiers[n])&&a(o.a.createElement("span",null,wi(t)," ",xi(e.statsModifiers[n])," ",e.statsModifiers[n]," ",n,"."," ",e.duration>1&&"(".concat(e.duration-1,")")))}))}))},ji={id:"zero",sourceId:"",targetId:"",skill:Ft,index:0,hitSuccess:!1,criticalSuccess:!1,dodgeSuccess:!1,rawDamage:0,blockedDamage:0,totalDamage:0,targetTraits:[],sourceTraits:[]},Ci=function(e){return e||Object(f.a)({},S,{keys:[]})},Si=function(e,t){return e.combineWeaponDamage?{slashing:W(Ci(e.damageRolls.slashing),Ci(t.damageRolls.slashing)),piercing:W(Ci(e.damageRolls.piercing),Ci(t.damageRolls.piercing)),fire:W(Ci(e.damageRolls.fire),Ci(t.damageRolls.fire)),blood:W(Ci(e.damageRolls.blood),Ci(t.damageRolls.blood)),light:W(Ci(e.damageRolls.light),Ci(t.damageRolls.light)),dark:W(Ci(e.damageRolls.dark),Ci(t.damageRolls.dark))}:e.damageRolls},Ri=function(e,t,n){return function(a,r){var i=Object(f.a)({},ji,{id:Object(y.a)(),targetId:a.id,sourceId:r.id}),o=r.skills.find((function(t){return t.id===e[r.id]}))||Ft;i.skill=o;var c=r.weapon,l=Si(o,c),s=function(e,t){return e.combineWeaponDamage?t.accuracyCheck:e.check||q([],void 0,0,18)}(o,c),d=t(r)(s);if(d.result){var u=d.criticalSuccess;i.hitSuccess=!0,i.criticalSuccess=u;var m=n(r),g=K(m)(l,u,"".concat(r.name," damage"));i.rawDamage=g.total;var h=t(a)(q(["evade"],void 0));if(i.dodgeSuccess=h.result||!1,!h.result){var p=a.damageResistances;L(g.rollResults).filter((function(e){return g.rollResults[e]})).forEach((function(e){var t=g.rollResults[e],a=p[e],o=n(r)(a,!0),c=u?0:o.total,l=t.total-c;i.blockedDamage+=t.total>0?c:0,i.totalDamage+=v(l)}))}o.checkDodgeForTraits&&h.result||(i.targetTraits=o.targetTraits,i.sourceTraits=o.sourceTraits)}return i}},Ii=function(e,t,n,a,r){if(0===e.length)return[];if(!t||!n)return[];var i=[].concat(Object(m.a)(t.characters),Object(m.a)(n.characters)),c=function(e,t){i=i.map((function(n){return n.id===e?t(n):n}))},l=e[e.length-1];return a(o.a.createElement("strong",{style:{color:"lightblue",fontSize:20,display:"inline-block",marginTop:4}},"ROUND ".concat(e.length))),Object.values(l).sort((function(e,t){return e.index-t.index})).forEach((function(e){var t=i.map((function(e){return se(e)})),n=t.find((function(t){return t.id===e.sourceId})),r=t.find((function(t){return t.id===e.targetId})),l=i.find((function(t){return t.id===e.sourceId})),s=i.find((function(t){return t.id===e.targetId}));if(l&&n&&s&&r&&!n.dead&&!r.dead){!function(e,t,n,a){e.skill.id!==Ft.id&&a(o.a.createElement("span",null,wi(t)," casts ",Ei("#cda5f3",e.skill.name),e.skill.target&&o.a.createElement("span",null," on ",wi(n),"."))),e.hitSuccess?(e.skill.id===Ft.id?a(o.a.createElement("span",null,wi(t)," attacks ",wi(n)," for"," ",Ei("white","".concat(e.totalDamage," damage")),".")):(e.rawDamage>0&&a(o.a.createElement("span",null,Ei("#cda5f3",e.skill.name)," deals"," ",Ei("white","".concat(e.totalDamage," damage")),".")),(e.targetTraits.length>0||e.sourceTraits.length>0)&&ki(e,t,n,a)),e.criticalSuccess&&a(o.a.createElement("span",{style:{color:"khaki"}},"Critical hit!"))):e.skill.id===Ft.id?a(o.a.createElement("span",null,wi(t),"'s attack missed.")):a(o.a.createElement("span",null,Ei("#cda5f3",e.skill.name)," ",e.skill.target?"missed":"failed",".")),e.dodgeSuccess&&a(o.a.createElement("span",null,wi(n)," dodged ",wi(t),"'s attack")),n.stats.health<=n.healthOffset+e.totalDamage&&a(Ei("lightcoral","".concat(n.name," died")))}(e,n,r,a);var d=e.skill,u=s.healthOffset+e.totalDamage,g=l.focusOffset+d.focusCost,h=function(t,n){return e.hitSuccess?Object(f.a)({},de(t)(ke(n)),{traits:[].concat(Object(m.a)(t.traits),Object(m.a)(n.map((function(e){return Object(f.a)({},e,{healthOffset:0,focusOffset:0})}))))}):t};c(r.id,(function(e){return Object(f.a)({},e,{},h(e,d.targetTraits),{inspected:d.inspected||e.inspected,healthOffset:u})})),c(n.id,(function(e){return Object(f.a)({},e,{},h(e,d.sourceTraits),{focusOffset:g})})),d.combineWeaponDamage&&e.hitSuccess&&Ti("onHit",n,l,d,a,c),d.combineWeaponDamage&&e.criticalSuccess&&Ti("onCrit",n,l,d,a,c)}})),i.forEach((function(e){var t=se(e);r(Object(f.a)({},e,{traits:t.dead?e.traits:e.traits.map((function(e){return Object(f.a)({},e,{duration:e.duration-1})})).filter((function(e){return 0!==e.duration}))}),e.partyId)})),i.map((function(e){return se(e)}))},Ti=function(e,t,n,a,r,i){var c=function(e,t){return function(n){if(e.processed)throw new Error("No Processed Characters [checkEvent]");var a=t.events[n];if(t.combineWeaponDamage){var r=e.weapon;if(!r)return a;var i=r.events[n];return i?[].concat(Object(m.a)(a||[]),Object(m.a)(i)):a}return a}}(n,a)(e),l=a.combineWeaponDamage&&!a.events[e]?t.weapon.name:a.name;if(c){var s=ke(c),d=t.healthOffset-s.healthOffset,u=d<=0?s.healthOffset+d:s.healthOffset;0!==u&&r(o.a.createElement("span",null,wi(t)," ",xi(u)," ",u," HP from ",l,"."));var h=t.focusOffset-s.focusOffset,p=h<0?s.focusOffset+h:s.focusOffset;0!==p&&r(o.a.createElement("span",null,wi(t)," ",xi(p)," ",p," FP from ",l,".")),g(s.abilitiesModifiers).forEach((function(e){var n=s.abilitiesModifiers[e];0!==n&&r(o.a.createElement("span",null,wi(t)," ",xi(n)," ",n," ",e," from ",l,"."))})),i(n.id,(function(e){return Object(f.a)({},de(e)(s),{traits:[].concat(Object(m.a)(e.traits),Object(m.a)(c.map((function(e){return Object(f.a)({},e,{healthOffset:0})}))))})}))}},Mi=function(e){return e&&0===e.characters.filter((function(e){return e.healthOffset<e.stats.health})).length},qi=Object(y.a)(),Pi=function(e){return e.partyId===pn},Di=o.a.createContext({lines:[],addLine:function(e){},clear:function(){}}),Bi=function(){return Object(i.useContext)(Di)},Wi=function(e){var t=e.children,n=Object(i.useState)([]),a=Object(d.a)(n,2),r=a[0],c=a[1];return o.a.createElement(Di.Provider,{value:{lines:r,addLine:function(e){return c((function(t){return[].concat(Object(m.a)(t),[e])}))},clear:function(){return c([])}}},t)},zi=n(77),Gi=n.n(zi),Ai={isOpen:!1,contents:null,callback:null,payload:null,blocking:!1,style:{}},Hi="modalContext/OPEN",Fi="modalContext/CLOSE",Ui=function(e,t,n){return{type:Hi,contents:e,style:t,blocking:n}},$i=function(){return{type:Fi}},Li=function(e){return{type:"modalContext/SET_PAYLOAD",payload:e}},Ki=function(e){return{type:"modalContext/SET_CONTENTS",contents:e}},Ni=function(e){return{type:"modalContext/SET_CALLBACK",callback:e}},_i=function(e){return{type:"modalContext/SET_BLOCKING",blocking:e}},Vi=function(e){return{type:"modalContext/SET_STYLE",style:e}},Yi=(r={},Object(u.a)(r,Hi,(function(e,t){return Object(f.a)({},e,{isOpen:!0,contents:t.contents?t.contents:e.contents,style:t.style?t.style:e.style||{},blocking:t.blocking||!1})})),Object(u.a)(r,Fi,(function(e){return Object(f.a)({},e,{isOpen:!1})})),Object(u.a)(r,"modalContext/SET_PAYLOAD",(function(e,t){return Object(f.a)({},e,{payload:t.payload})})),Object(u.a)(r,"modalContext/SET_CONTENTS",(function(e,t){return Object(f.a)({},e,{callback:null,payload:null,contents:t.contents,blocking:!1,style:{}})})),Object(u.a)(r,"modalContext/SET_CALLBACK",(function(e,t){return Object(f.a)({},e,{callback:t.callback})})),Object(u.a)(r,"modalContext/SET_BLOCKING",(function(e,t){return Object(f.a)({},e,{blocking:t.blocking})})),Object(u.a)(r,"modalContext/SET_STYLE",(function(e,t){return Object(f.a)({},e,{style:t.style})})),r),Ji=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai,t=arguments.length>1?arguments[1]:void 0,n=Yi[t.type];return n?n(e,t):e},Xi=o.a.createContext({open:function(){return null},close:function(){return null},setBlocking:function(){return null},setPayload:function(){return null},setContents:function(){return null},setCallback:function(){return null},setStyle:function(){return null}}),Qi=function(){return Object(i.useContext)(Xi)},Zi=function(e,t){return{isOpen:e.isOpen,open:function(e,n,a){return t(Ui(e,n,a))},close:function(n){e.callback&&e.callback(n||e.payload),t($i())},setPayload:function(e){return t(Li(e))},setContents:function(e){return t(Ki(e))},setCallback:function(e){return t(Ni(e))},setBlocking:function(e){return t(_i(e))},setStyle:function(e){return t(Vi(e))}}};Gi.a.setAppElement("#root");var eo=function(e){var t=e.children,n=Object(i.useReducer)(Ji,Ai),a=Object(d.a)(n,1)[0],r=Object(i.useMemo)((function(){return Zi.apply(void 0,Object(m.a)(n))}),[n]);return o.a.createElement(Xi.Provider,{value:r},t,o.a.createElement(Gi.a,{parentSelector:function(){return document.querySelector("#content-root")},isOpen:a.isOpen,onRequestClose:function(){a.blocking||r.close()},style:{content:{backgroundColor:"#111",color:"white",width:400,margin:"0 auto",bottom:"unset",borderColor:"#555"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}},a.contents&&o.a.createElement(a.contents,null)))},to=function(e){var t=e.reset,n=Qi().close,a=Object(i.useState)(),r=Object(d.a)(a,2),c=r[0],l=r[1],s=Object(i.useMemo)((function(){return[ht(),ht(),ht(),ht(),ht()]}),[]);return console.log(s),o.a.createElement(Wn,{$direction:"column"},o.a.createElement("h1",{style:{textAlign:"center",marginTop:0}},"Victory!"),o.a.createElement(Wn,{$direction:"column",style:{alignItems:"center"}},o.a.createElement("span",null,"Choose a Reward"),o.a.createElement(Wn,null,s.map((function(e){return o.a.createElement("div",{style:{border:"2px solid transparent",borderColor:c===e.id?"white":"transparent"}},o.a.createElement(Zr,{item:e,size:60,onClick:function(){return l(e.id)}}))})))),o.a.createElement(Wn,{style:{marginTop:20,alignItems:"center"}},o.a.createElement(Or,{disabled:void 0===c,onClick:function(){t(!1),n(s.find((function(e){return e.id===c})))}},"Next Battle")))},no=function(e){var t=e.wins,n=Object(s.f)(),a=Qi().close;return o.a.createElement(Wn,{$direction:"column"},o.a.createElement("h1",{style:{textAlign:"center",marginTop:0}},"You Died..."),o.a.createElement("span",null,"But you won ",t," times."),o.a.createElement(Wn,null,o.a.createElement(Or,{onClick:function(){a(),n.push("/characters/")}},"Back to Characters")))},ao={rounds:[],userParty:{id:Object(y.a)(),characters:[],processed:!0,items:[],skills:[],mods:[]},rawUserParty:{id:Object(y.a)(),characters:[],items:[],skills:[],mods:[]},enemyParty:{id:Object(y.a)(),characters:[],processed:!0,items:[],skills:[],mods:[]},rawEnemyParty:{id:Object(y.a)(),characters:[],items:[],skills:[],mods:[]},parties:[],running:!1,done:!1,characterSkills:{},characterTargets:{},setCharacterSkill:function(e,t){},setCharacterTarget:function(e,t){},next:function(){},start:function(){},stop:function(){},reset:function(e){}},ro=Object(i.createContext)(ao),io=function(){return Object(i.useContext)(ro)},oo=function(e){var t=e.children,n=xn(),a=n.parties,r=n.rawParties,c=n.userParty,l=n.rawUserParty,g=n.upsertParty,h=n.upsertCharacter,p=n.upsertItem,b=Rn(),y=b.checkCharacter,v=b.rollCharacter,E=Bi(),w=E.addLine,O=E.clear,x=Object(i.useState)([]),k=Object(d.a)(x,2),j=k[0],C=k[1],S=Object(i.useState)(0),R=Object(d.a)(S,2),I=R[0],T=R[1],M=Object(i.useState)({}),q=Object(d.a)(M,2),P=q[0],D=q[1],B=Object(i.useState)({}),W=Object(d.a)(B,2),z=W[0],G=W[1],A=function(e,t){return D((function(n){return Object(f.a)({},n,Object(u.a)({},e,t))}))},H=function(e,t){return G((function(n){return Object(f.a)({},n,Object(u.a)({},e,t))}))},F=Object(i.useState)(!1),U=Object(d.a)(F,2),$=U[0],L=U[1],K=r.filter((function(e){return e.id===qi}))[0],N=a.filter((function(e){return e.id===qi}))[0],_=Qi(),V=_.open,Y=_.setCallback,J=Object(s.f)(),X=function(){if(N&&c){var e=function(e,t,n,a){return function(r,i,o){var c=[].concat(Object(m.a)(r.characters),Object(m.a)(i.characters)),l={};return c.filter((function(e){return!e.dead})).sort((function(e,t){return t.stats.agility-e.stats.agility})).forEach((function(r,i){var c=o.find((function(e){return e.id===r.partyId})),s=o.find((function(e){return e.id!==r.partyId}));if(c&&s){var d=Se(s).characters.filter((function(e){return!e.dead})),m=d.find((function(e){return e.id===t[r.id]}))||Pe(d);m&&(l=Object(f.a)({},l,Object(u.a)({},r.name,Object(f.a)({},Ri(e,n,a)(m,r),{index:i}))))}})),l}}(P,z,y,v)(c,N,r);C((function(t){return[].concat(Object(m.a)(t),[e])}))}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(i.useState)(!1),a=Object(d.a)(n,2),r=a[0],o=a[1],c=Object(i.useRef)(),l=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];void 0===c.current?(o(!0),c.current=setInterval((function(){return e.apply(void 0,a)}),t)):(clearInterval(c.current),c.current=setInterval((function(){return e.apply(void 0,a)}),t))},s=function(){void 0!==c.current&&(o(!1),clearInterval(c.current),c.current=void 0)};return{start:l,stop:s,running:r}}(X),Z=Q.start,ee=Q.stop,te=Q.running,ne=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];O(),e||(L(!1),C([]),g(vi(qi)),g(Object(f.a)({},l,{characters:l.characters.map((function(e){return Object(f.a)({},e,{traits:[],partyId:pn})}))})))};Object(i.useEffect)((function(){return g(vi(qi)),g(Object(f.a)({},l,{characters:l.characters.map((function(e){return Object(f.a)({},e,{partyId:pn,dead:!1,healthOffset:0,focusOffset:0,traits:[]})}))})),function(){ee(),ne(!0)}}),[]);var ae=function(e){ee(),L(!0),e?(V((function(){return o.a.createElement(to,{reset:ne})}),{},!0),Y((function(e){p(e)}))):V((function(){return o.a.createElement(no,{wins:I})}),{},!0)};return Object(i.useEffect)((function(){Mi(c)&&!$?(Y((function(){J.push("/characters")})),ae(!1)):Mi(N)&&!$?(Y((function(){})),ae(!0),T((function(e){return e+1}))):te&&Z()}),[c,N]),Object(i.useEffect)((function(){if(j.length>0){var e=Ii(j,l,K,w,h);!function(e,t,n){e.forEach((function(e){var a=e.skills.find((function(n){return n.id===t[e.id]}))||Ft,r=e.stats.focus-e.focusOffset;a.focusCost>r&&n(e.id,Ft.id)}))}(e,P,A),function(e,t,n){e.forEach((function(a){var r=e.find((function(e){return e.id===t[a.id]}));r&&r.dead&&n(a.id,void 0)}))}(e,z,H)}}),[j]),o.a.createElement(ro.Provider,{value:{rounds:j,userParty:c,rawUserParty:l,enemyParty:N,rawEnemyParty:K,parties:a,running:te,done:$,characterSkills:P,characterTargets:z,setCharacterSkill:A,setCharacterTarget:H,start:Z,stop:ee,reset:ne,next:X}},t)},co=n(179),lo=n.n(co),so=function(e){var t=e.activeTargetId,n=e.onClick,a=io().enemyParty,r=qn(),i=function(e){return t===e},c=a?a.characters:[];return o.a.createElement(Wn,null,o.a.createElement(Or,{disabled:r.character.dead,onClick:function(){return!r.character.dead&&n(void 0)},style:{border:"none"},substyle:Object(f.a)({cursor:r.character.dead?"default":"pointer",background:r.character.dead?"#444":"#111",padding:0,height:36,width:36,boxSizing:"border-box",borderColor:"transparent",opacity:void 0===t?1:.5,margin:0},i(void 0)?{borderColor:"turquoise"}:{})},o.a.createElement("img",{alt:"random",src:lo.a,height:34,width:34,style:{height:34,width:34,boxSizing:"border-box",border:"1px solid black"}})),c.map((function(e){return o.a.createElement(uo,{key:e.id,name:e.name,onClick:function(){return n(e.id)},disabled:r.character.dead||e.dead,style:Object(f.a)({padding:0,height:36,width:36,boxSizing:"border-box",margin:0,borderColor:"transparent",opacity:r.character.dead||e.dead?.5:i(e.id)?1:.7},i(e.id)?{borderColor:"turquoise"}:{})})})),o.a.createElement(Wn,{$full:!0}))},uo=function(e){var t=e.name,n=e.disabled,a=e.style,r=e.onClick;return o.a.createElement(vr,null,(function(e){var i=e.isHovering;return o.a.createElement(Kr.a,{isOpen:i,direction:"up",tagName:"div",padding:"0",arrow:!1,content:o.a.createElement(Er,null,t)},o.a.createElement(Er,{onClick:function(){return!n&&r()},disabled:n,substyle:Object(f.a)({borderColor:i?"#999":"#555",padding:"4px",cursor:n?"default":"pointer",background:n?"#444":"#111"},a),style:{border:"none"}},o.a.createElement("img",{alt:"profile",src:"https://picsum.photos/seed/".concat(t,"/60/60"),style:{height:34,width:34,boxSizing:"border-box",border:"1px solid black"}})))}))},fo=function(e){var t=e.showEdit,n=void 0!==t&&t,a=e.showInspect,r=void 0!==a&&a,c=e.showWeaponInspect,l=void 0!==c&&c,s=e.showSkills,u=void 0!==s&&s,m=qn(),g=xn(),h=g.deleteCharacter,p=(g.userParty,io()),b=p.characterSkills,y=p.setCharacterSkill,E=p.characterTargets,w=p.setCharacterTarget,O=m.rawCharacter,x=m.onChange,k=e.character||m.character,j=Object(i.useState)(!1),C=Object(d.a)(j,2),S=C[0],R=C[1],I=Object(i.useState)(!1),T=Object(d.a)(I,2),M=T[0],q=T[1],P=Object(i.useState)(!1),D=Object(d.a)(P,2),B=D[0],W=D[1],z=Object(i.useState)(k.name),G=Object(d.a)(z,2),A=G[0],H=G[1],F=v(k.stats.health-k.healthOffset),U=v(k.stats.focus-k.focusOffset);return Object(i.useEffect)((function(){H(k.name)}),[k.name]),o.a.createElement(Er,{style:{width:454,transition:"all 1s",border:"2px solid black"},substyle:{padding:0}},o.a.createElement(Wn,{$direction:"column"},o.a.createElement(Wn,{style:{padding:4,background:"linear-gradient(0deg, rgba(34,34,34,1) 0%, rgba(51,51,51,1) 100%)"}},o.a.createElement(Wn,{$full:!0},o.a.createElement(Er,{style:{marginRight:10,height:64,width:64},substyle:{padding:0,backgroundColor:"#111",border:"none"}},k.dead?o.a.createElement(Wn,{style:{justifyContent:"center",alignItems:"center",height:60}},o.a.createElement(gr,{src:oi.a,size:48})):o.a.createElement("img",{alt:"profile",src:"https://picsum.photos/seed/".concat(k.name,"/60/60"),style:{height:60,width:60,border:"1px solid rgba(255,255,255,0.5)"}})),B?o.a.createElement("div",null,o.a.createElement("input",{value:A,onChange:function(e){return H(e.target.value)}})):o.a.createElement(Wn,{$direction:"column"},o.a.createElement("h2",{style:{margin:0,textShadow:"1px 1px 1px black",fontSize:18}},k.name),o.a.createElement(zn,null),o.a.createElement("strong",{style:{fontFamily:"monospace",fontSize:10,color:"rgba(255,255,255,0.24)"}},k.abilities.strength," ",k.abilities.dexterity," ",k.abilities.intelligence," ",k.abilities.vigor),o.a.createElement("strong",{style:{fontFamily:"monospace",fontSize:10,color:"rgba(255,255,255,0.24)"}},k.stats.will," ",k.stats.perception," ",k.stats.agility," ",k.stats.accuracy," ",k.stats.evade))),l&&o.a.createElement(Kr.a,{isOpen:S,direction:"right",tagName:"div",padding:"0",arrow:!1,content:o.a.createElement(Qr,{weapon:k.weapon})},o.a.createElement(wr,{onMouseEnter:function(){return R(!0)},onMouseLeave:function(){return R(!1)}},o.a.createElement(gr,{src:An.a,size:18}))),r&&o.a.createElement(Kr.a,{isOpen:M,direction:"right",tagName:"div",padding:"0",arrow:!1,content:o.a.createElement(ri,null)},o.a.createElement(wr,{onMouseEnter:function(){return q(!0)},onMouseLeave:function(){return q(!1)}},o.a.createElement(gr,{src:ni.a,size:18}))),n&&!B&&o.a.createElement(Or,{style:{height:42,width:42,margin:0},substyle:{padding:0,display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){return W((function(e){return!e}))}},o.a.createElement(gr,{src:li.a,size:18})),B&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Or,{style:{height:42,width:42,margin:0},substyle:{padding:0,display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){x(Object(f.a)({},O,{name:A})),W((function(e){return!e}))}},o.a.createElement(gr,{src:di.a,size:18})),o.a.createElement(Or,{style:{height:42,width:42,margin:0},substyle:{padding:0,display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){h(k.id)}},o.a.createElement(gr,{src:fi.a,size:18})))),u&&o.a.createElement(Wn,{$direction:"column",style:{backgroundColor:"#1a1a1a",boxShadow:"inset 0px 0px 15px black",width:"calc(100% - 16px)",padding:"4px 8px",borderTop:"1px solid #555"}},o.a.createElement("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"rgba(255,255,255,0.24)",marginBottom:2}},"SKILLS"),o.a.createElement(gi,{activeSkillId:b[k.id],skills:k.skills,onClick:function(e){return y(k.id,e)}}),o.a.createElement("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"rgba(255,255,255,0.24)",marginBottom:2,marginTop:4}},"TARGETS"),o.a.createElement(so,{activeTargetId:E[k.id],onClick:function(e){return w(k.id,e)}})),o.a.createElement(ai,{name:"Health",color:"#8f4e4d",max:k.stats.health,value:F,height:15},F,"/",k.stats.health),o.a.createElement(ai,{name:"Focus",color:"#517e4e",max:k.stats.focus,value:U,height:15},U,"/",k.stats.focus)))},mo={logKey:void 0,sidebarKey:void 0,setLogKey:function(){},setSidebarKey:function(){}},go=o.a.createContext(mo),ho=function(){return Object(i.useContext)(go)},po=function(e){var t=e.children,n=Object(i.useState)(),a=Object(d.a)(n,2),r=a[0],c=a[1],l=Object(i.useState)(),s=Object(d.a)(l,2),u=s[0],f=s[1];return o.a.createElement(go.Provider,{value:{logKey:r,sidebarKey:u,setLogKey:c,setSidebarKey:f}},t)},bo=function(e){var t=e.skill;return o.a.createElement(Er,{style:{height:64,width:64},substyle:{padding:0}},o.a.createElement(vr,null,(function(e){var n=e.isHovering;return o.a.createElement(Kr.a,{isOpen:n,direction:"down",tagName:"div",padding:"0",arrow:!1,content:o.a.createElement(mi,{skillId:t.id,skill:t})},o.a.createElement("img",{src:t.imgSrc,height:60,width:60}))})))},yo=function(){var e=Object(s.h)().id,t=Object(s.f)(),n=xn(),a=n.rawUserParty,r=n.setActiveCharacterId,c=ho(),l=c.setLogKey,d=(c.setSidebarKey,Object(i.useMemo)((function(){return a.characters.find((function(t){return t.id===e}))}),[e,a]));return Object(i.useEffect)((function(){d?r(d.id):t.push("/characters/".concat(a.characters[0].id))}),[e]),Object(i.useEffect)((function(){return l("items"),function(){l(void 0),r(null)}}),[]),d?o.a.createElement(Dn,null,o.a.createElement(Tn,null,o.a.createElement(Wn,{style:{margin:10,flex:1}},o.a.createElement(Wn,{$direction:"column",style:{marginRight:10}},o.a.createElement(fo,{showEdit:!0}),o.a.createElement(Wn,null,o.a.createElement("div",null,o.a.createElement(xr,{id:"characterPoints"}),o.a.createElement(xr,{id:"weaponHands"}),o.a.createElement(xr,{id:"heads"}),o.a.createElement(xr,{id:"bodies"}),o.a.createElement(xr,{id:"hands"}),o.a.createElement(xr,{id:"fingers"}),o.a.createElement(xr,{id:"feet"})),o.a.createElement("div",null,o.a.createElement(kr,{id:"strength"}),o.a.createElement(kr,{id:"dexterity"}),o.a.createElement(kr,{id:"intelligence"}),o.a.createElement(kr,{id:"vigor"})),o.a.createElement("div",null,o.a.createElement(Cr,{id:"health"}),o.a.createElement(Cr,{id:"focus"}),o.a.createElement(Cr,{id:"will"}),o.a.createElement(Cr,{id:"perception"}),o.a.createElement(Cr,{id:"agility"}),o.a.createElement(Cr,{id:"accuracy"}),o.a.createElement(Cr,{id:"evade"})),o.a.createElement("div",null,o.a.createElement(Sr,{id:"slashing"}),o.a.createElement(Sr,{id:"piercing"}),o.a.createElement(Sr,{id:"fire"}),o.a.createElement(Sr,{id:"blood"}),o.a.createElement(Sr,{id:"light"}),o.a.createElement(Sr,{id:"dark"})))),o.a.createElement(Wn,null,o.a.createElement("div",null,o.a.createElement(Qr,{showEquipButton:!0,showRequirement:!1}),d.equippedItems.map((function(e){return o.a.createElement(Ur,{key:e.id,item:e,showRequirementCheck:!1,showCollapseButton:!1})})),o.a.createElement(Er,{substyle:{width:320}},o.a.createElement("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"rgba(255,255,255,0.24)",marginBottom:2}},"SKILLS"),o.a.createElement(Wn,{style:{flexWrap:"wrap"}},d.skills.filter((function(e){return e.id!==Ft.id&&e.id!==Ut.id})).map((function(e){return o.a.createElement("div",{style:{padding:3.5}},o.a.createElement(bo,{key:e.id,skill:e}))}))))),o.a.createElement(ei,null))))):null},vo=function(e){var t=e.roll,n=t,a=void 0!==n.goal,r=a?n.result:void 0;return o.a.createElement("div",{style:{fontFamily:"monospace"}},a&&r&&Ei("lightgreen","[PASSED] "),a&&!r&&Ei("lightcoral","[FAILED] "),!a&&Ei("turquoise","[STATIC] "),a&&o.a.createElement("span",null,"(",n.goal,") "),o.a.createElement("span",null,t.output))},Eo=n(180),wo=n.n(Eo),Oo=n(181),xo=n.n(Oo),ko=n(182),jo=n.n(ko),Co=n(183),So=n.n(Co),Ro=o.a.createContext({a:null,b:null,compareChecks:function(e,t){return Tr},compareRolls:function(e,t){return Tr},compareValues:function(e,t){return Tr}});function Io(){return Object(i.useContext)(Ro)}function To(e){var t=e.a,n=e.b,a=e.children,r=Rn(),i=r.execRoll,c=r.getProbability;return o.a.createElement(Ro.Provider,{value:{a:t,b:n,compareChecks:function(e,t){var n=c(e),a=c(t);return Pr(n,a)},compareRolls:function(e,t){var n=i(e,!1).averageTotal,a=i(t,!1).averageTotal;return Pr(n,a<0?0:a)},compareValues:function(e,t){return Pr(e,t)}}},a)}var Mo=function(e){var t=e.weapon,n=qn().character;return o.a.createElement(To,{a:t,b:n.weapon},o.a.createElement(qo,null))},qo=function(e){var t=Io(),n=t.compareChecks,a=t.compareRolls,r=t.compareValues,i=t.a||re,c=t.b||re,l=n(i.requirementCheck,c.requirementCheck),s=n(i.accuracyCheck,c.accuracyCheck),d=r(c.cost,i.cost);return o.a.createElement(Qr,{weapon:i,showEquipButton:!1,requirementCompare:l,accuracyCompare:s,damageCompare:function(e){var t=i.damageRolls[e],n=c.damageRolls[e];return n?a(t,n):Mr},traitCompare:function(e){var t=xe(ke(i.traits),e),n=xe(ke(c.traits),e);return r(t,n)},costComare:d})},Po=function(e){var t=e.item,n=qn().character;if("ring"===t.armorType)return o.a.createElement(Ur,{item:t,showEquipButton:!1,showRequirementCheck:!0,showCollapseButton:!1});var a=[].concat(Object(m.a)(n.armor),Object(m.a)(n.equippedItems)).find((function(e){return"armor"===t.type?"armor"===e.type&&e.resource===t.resource:"armor"!==e.type&&e.resource===t.resource}));return o.a.createElement(To,{a:t,b:a||ne("armor")},o.a.createElement(Do,null))},Do=function(e){var t=Io(),n=t.compareChecks,a=t.compareRolls,r=t.compareValues,i=t.a||ne("armor"),c=t.b||ne("armor"),l=n(i.requirementCheck,c.requirementCheck),s=r(c.cost,i.cost);return o.a.createElement(Ur,{item:i,showEquipButton:!1,requirementCompare:l,resistancesCompare:function(e){var t=i.damageResistances[e],n=c.damageResistances[e];return n?a(t,n):Mr},traitCompare:function(e){var t=xe(ke(i.traits),e),n=xe(ke(c.traits),e);return r(t,n)},costComare:s})},Bo=function(e){var t=e.onClick;return o.a.createElement(Wn,null,o.a.createElement(Wo,{rarity:"common",onClick:t}),o.a.createElement(Wo,{rarity:"uncommon",onClick:t}),o.a.createElement(Wo,{rarity:"rare",onClick:t}),o.a.createElement(Wo,{rarity:"legendary",onClick:t}),o.a.createElement(Wo,{rarity:"unique",onClick:t}),o.a.createElement(Wo,{rarity:"mythic",onClick:t}),o.a.createElement(Wo,{rarity:"set",onClick:t}),o.a.createElement(Wo,{type:"weapon",onClick:t},"W"),o.a.createElement(Wo,{type:"armor",onClick:t},"A"),o.a.createElement(Wo,{onClick:t},"R"))},Wo=function(e){var t=e.rarity,n=e.type,a=e.children,r=e.onClick,i=t?Ir()(Hr[t]).fade(.75).hsl().toString():"#222",c=t?Ir()(Hr[t]).fade(.5).hsl().toString():"#555";return o.a.createElement(Er,{tag:"button",style:{width:40,height:40},substyle:{background:i,cursor:"pointer",borderColor:c,boxShadow:"inset 0 0 3px black",display:"flex",padding:0,justifyContent:"center",alignItems:"center",margin:0},onClick:function(){return r(t,n)}},a)},zo=function(e){var t=e.item,n=e.rawCharacter,a=e.onEquip,r=Object(i.useState)(!1),c=Object(d.a)(r,2),l=c[0],s=c[1],u=t.type,f=t.equippable,m="armor"===u,g="weapon"===u,h=Object(i.useMemo)((function(){return he(n)(t,!g)}),[t,n,g]),p=Hr[t.rarity],b=Object(i.useMemo)((function(){return g?o.a.createElement(Nr,{weapon:t,size:18,fill:p}):m?o.a.createElement(Ar,{item:t,size:18,fill:p}):f?o.a.createElement(Fr,{item:t,size:18,fill:p}):void 0}),[t,m,f,g,p]);return o.a.createElement("div",{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},o.a.createElement(Kr.a,{isOpen:l,direction:"bottom",tagName:"div",padding:"0",arrow:!1,content:g?o.a.createElement(Mo,{weapon:t}):f?o.a.createElement(Po,{item:t}):"item"},o.a.createElement(Er,{style:{width:40,height:40,background:h?"#222":"#333",boxShadow:"inset 0 0 ".concat(h?"12px":"3px"," ").concat("common"!==t.rarity&&h?Ir()(p).fade(.5).hsl().toString():"black")},substyle:{background:"transparent",cursor:h?"pointer":"default",borderColor:l?p:"common"===t.rarity?"#555":Ir()(p).fade(.5).hsl().toString(),boxShadow:h?"inset 0 0 3px black":"none",display:"flex",padding:0,justifyContent:"center",alignItems:"center",margin:0,opacity:h?1:.5},onClick:function(e){e.preventDefault(),e.stopPropagation(),f&&a(t.id)}},b)))},Go=function(e){var t=e.activeKey,n=e.setActiveKey,a=e.options,r=e.direction,c=void 0===r?"right":r,l=Object(i.useMemo)((function(){return a.find((function(e){return e.key===t}))}),[t]);return o.a.createElement(Er,{substyle:{display:"flex",flexDirection:"right"===c?"row":"row-reverse",padding:0}},o.a.createElement(Wn,{$direction:"column",style:{width:60}},a.map((function(e,a){return o.a.createElement("div",{key:e.key,style:{height:60,width:60,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxSizing:"border-box",backgroundColor:t===e.key?"#111":"transparent",borderTop:0===a?"none":"1px solid #555",borderBottom:"1px solid black",borderRight:"right"===c&&t&&t!==e.key?"1px solid #555":"none",borderLeft:"left"===c&&t&&t!==e.key?"1px solid #555":"none"},onClick:function(a){a.preventDefault(),a.stopPropagation(),n(t===e.key?void 0:e.key)}},o.a.createElement(gr,{src:e.icon,size:24}))})),o.a.createElement(Wn,{$full:!0,style:{borderTop:"1px solid #555",borderRight:"right"===c&&void 0!==t?"1px solid #555":"none",borderLeft:"left"===c&&void 0!==t?"1px solid #555":"none"}})),l&&o.a.createElement("div",{style:{padding:8,backgroundColor:"#111",overflow:"auto"}},o.a.createElement(l.Component,null)))},Ao=[{key:"roll-log",icon:zr.a,Component:function(e){var t=Rn(),n=t.history,a=t.execRoll,r=Object(i.useState)(""),c=Object(d.a)(r,2),l=c[0],s=c[1],u=Object(i.useState)([]),f=Object(d.a)(u,2),g=f[0],h=f[1],p=Object(i.useState)(0),b=Object(d.a)(p,2),y=b[0],v=b[1],E=function(){try{a({string:l,keys:[],modifier:0},!0,!0),h([].concat(Object(m.a)(g),[l])),v(g.length)}catch(e){alert(e)}finally{s("")}};return o.a.createElement(Wn,{$direction:"column",$full:!0,style:{width:400}},n.length>0?o.a.createElement(Wn,{$full:!0,$direction:"column",style:{overflow:"auto",padding:10}},n.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.id},o.a.createElement(vo,{key:e.id,roll:e}))}))):o.a.createElement(Wn,{$full:!0}),o.a.createElement(Wn,null,o.a.createElement("input",{value:l,style:{flex:1},onChange:function(e){return s(e.target.value)},onKeyDown:function(e){13===e.keyCode&&E(),38===e.keyCode&&(s(g[y]||""),v(y-1))}}),o.a.createElement("button",{onClick:E},o.a.createElement(gr,{src:zr.a,size:18,fill:"#4bebc6"}))))}},{key:"attack-log",icon:wo.a,Component:function(){var e=Bi(),t=e.lines,n=e.clear,a=Object(i.useRef)(null);return Object(i.useEffect)((function(){a.current&&a.current.scrollIntoView({behavior:"smooth"})}),[t]),o.a.createElement(Wn,{$direction:"column",$full:!0,style:{overflow:"auto",padding:10,overflowY:"auto"}},o.a.createElement("button",{onClick:n,style:{marginBottom:20}},"Clear Log"),o.a.createElement(Wn,{$direction:"column",$full:!0,style:{color:"rgba(200,200,200, 1)",background:"#111",width:380,overflowX:"auto"}},t.map((function(e,t){return o.a.createElement("pre",{key:t},e)})),o.a.createElement("div",{ref:a})))}},{key:"items",icon:xo.a,Component:function(){var e=qn().rawCharacter,t=xn(),n=t.userParty,a=t.equipItem,r=Object(i.useState)(),c=Object(d.a)(r,2),l=c[0],s=c[1],u=Object(i.useState)(),f=Object(d.a)(u,2),m=f[0],g=f[1],h=function(e){return l?e.type===l:!m||e.rarity===m},p=n.items.filter((function(e){return"armor"!==e.type&&"weapon"!==e.type})).filter(h),b=n.items.filter((function(e){return"weapon"===e.type})).filter(h),y=n.items.filter((function(e){return"armor"===e.type})).filter(h);return o.a.createElement(Wn,{style:{},$direction:"column"},o.a.createElement(Bo,{onClick:function(e,t){e&&g(e),t&&s(t),e||t||(g(void 0),s(void 0))}}),o.a.createElement("div",{style:{marginTop:10}},b.length>0&&o.a.createElement("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"rgba(255,255,255,0.24)",marginBottom:2}},"WEAPONS"),o.a.createElement(Wn,{style:{flexWrap:"wrap",width:400}},b.map((function(t){return o.a.createElement(zo,{key:t.id,item:t,rawCharacter:e,onEquip:function(t){return a(e.id,t)}})}))),y.length>0&&o.a.createElement("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"rgba(255,255,255,0.24)",marginBottom:2}},"ARMOR"),o.a.createElement(Wn,{style:{flexWrap:"wrap",width:400}},y.map((function(t){return o.a.createElement(zo,{key:t.id,item:t,rawCharacter:e,onEquip:function(t){return a(e.id,t)}})}))),p.length>0&&o.a.createElement("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"rgba(255,255,255,0.24)",marginBottom:2}},"OTHER"),o.a.createElement(Wn,{style:{flexWrap:"wrap",width:400}},p.map((function(t){return o.a.createElement(zo,{key:t.id,item:t,rawCharacter:e,onEquip:function(t){return a(e.id,t)}})})))))}},{key:"skills",icon:jo.a,Component:function(){var e=xn().userParty;return o.a.createElement(Wn,{style:{width:320,flexWrap:"wrap"}},e.skills.map((function(e){return o.a.createElement(bo,{skill:e})})))}},{key:"mods",icon:So.a,Component:function(){var e=qn().rawCharacter,t=xn(),n=t.userParty,a=t.equipMod;return o.a.createElement(Wn,{$direction:"column"},n.mods.map((function(t){return o.a.createElement(Xr,{key:t.id,mod:t,onEquip:function(t){a(e.id,t)}})})))}}],Ho=function(e){var t=ho(),n=t.logKey,a=t.setLogKey;return o.a.createElement(Go,{activeKey:n,setActiveKey:a,options:Ao,direction:"left"})},Fo=function(e,t){return o.a.createElement(s.a,{path:e},o.a.createElement(t,null))},Uo=n(184),$o=n.n(Uo),Lo=n(25),Ko=[{key:"characters",icon:$o.a,Component:function(){return o.a.createElement(_o,null)}}],No=function(e){var t=ho(),n=t.sidebarKey,a=t.setSidebarKey;return o.a.createElement(Go,{options:Ko,direction:"right",activeKey:n,setActiveKey:a})},_o=function(){var e=xn(),t=e.userParty,n=e.upsertCharacter,a=Object(s.f)();return o.a.createElement(Wn,{$direction:"column"},t.characters.map((function(e){return o.a.createElement(Lo.b,{key:e.id,to:"/characters/".concat(e.id),style:{padding:8}},e.name)})),t.characters.length<4&&o.a.createElement(Or,{onClick:function(){var e=Zt("new character");n(e),a.push("/characters/".concat(e.id))}},"Add New Character"))},Vo=function(e){var t=e.party,n=xn().upsertCharacter,a=io(),r=a.userParty,i=a.enemyParty,c=a.characterSkills,l=(a.setCharacterSkill,a.characterTargets);a.setCharacterTarget;if(!t||!r||!i)return o.a.createElement("div",null,"Loading...");var s=[].concat(Object(m.a)(r.characters),Object(m.a)(i.characters));return o.a.createElement("div",null,t.characters.map((function(e){return o.a.createElement(Pn,{key:e.id,character:e,onChange:function(e){return n(e,t.id)}},o.a.createElement(Wn,{style:{position:"relative",opacity:se(e).dead?.5:1}},o.a.createElement(Wn,{$direction:"column",$full:!0,style:{marginBottom:10}},o.a.createElement(fo,{showInspect:e.inspected||e.partyId===pn||se(e).dead,showWeaponInspect:e.inspected||e.partyId===pn||se(e).dead,showSkills:t.id===pn})),e.partyId===pn&&o.a.createElement(Wn,{$direction:"column",style:{fontFamily:"monospace",width:80}},o.a.createElement(zn,null),o.a.createElement(Yo,{skillId:c[e.id],targetId:l[e.id],characters:s}),o.a.createElement(zn,null))))})))},Yo=function(e){var t=e.skillId,n=e.targetId,a=e.characters,r=qn().character,i=r.skills.find((function(e){return e.id===t}))||Ft,c=a.find((function(e){return e.id===n}));if(!c&&i.target)return null;var l=function(e,t,n){if(n){var a=0,r=0,i=Si(e,t.weapon),o=K((function(e){return A(e,t)}))(i,!1).rollResults,c=n.damageResistances;return L(o).filter((function(e){return o[e]})).forEach((function(e){var n=o[e],i=c[e],l=A(i,t,!0);a+=v(n.minTotal-l.maxTotal),r+=v(n.maxTotal-l.minTotal)})),a===r?"".concat(r):"".concat(a,"-").concat(r)}}(i,r,c),s=j(G(i.combineWeaponDamage?r.weapon.accuracyCheck:i.check||Object(f.a)({},T,{keys:[]}),r)),d=i.target&&c?j(G(q(["evade"]),c)):0;return o.a.createElement(Er,{style:{textAlign:"center",fontWeight:"bold",borderLeft:"none"},substyle:{borderLeft:"none",background:"#111"}},l&&"0"!==l&&o.a.createElement("div",{style:{marginBottom:5}},"(",l,")"),o.a.createElement("div",{style:{fontSize:20}},Math.floor(s-d),"%"))},Jo=n(185),Xo=n.n(Jo),Qo=function(){var e=io(),t=e.rawUserParty,n=e.rawEnemyParty,a=(e.running,e.done),r=e.rounds,c=(e.start,e.stop,e.reset,e.next),l=ho().setLogKey;return Object(i.useEffect)((function(){return l("attack-log"),function(){l(void 0)}}),[]),o.a.createElement(Wn,{$full:!0,$direction:"column",style:{background:"url(".concat(Xo.a,") center center"),backgroundSize:"cover"}},o.a.createElement(Er,null,o.a.createElement(Wn,{style:{alignItems:"center"}},o.a.createElement("div",null,!a&&o.a.createElement("button",{onClick:function(){return c()}},"Next")),o.a.createElement(zn,null),o.a.createElement(Wn,null,"Round ",r.length+1))),o.a.createElement(Wn,{id:"Combat",$full:!0,style:{padding:10}},o.a.createElement(Vo,{party:t}),o.a.createElement(Wn,{$full:!0,$direction:"column"}),o.a.createElement(Vo,{party:n})))},Zo={background:"#111",boxShadow:"inset 0 0 3px black"},ec={backgroundColor:"#333"},tc=function(){var e,t=Object(s.g)().pathname.split("/");return o.a.createElement(Er,{substyle:{height:64,padding:0,alignItems:"center",display:"flex"}},o.a.createElement("div",{style:{fontFamily:"monospace",fontSize:24,margin:"0 30px"}},"rpgjs"),o.a.createElement(Er,{tag:Lo.b,to:"/battle",style:{height:"100%"},substyle:Object(f.a)({padding:"0 20px",display:"flex",justifyContent:"center",alignItems:"center"},(e=["battle"],e.includes(t[1])?Zo:ec))},"battle"))},nc=function(){return o.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex"}},o.a.createElement(po,null,o.a.createElement(eo,null,o.a.createElement(On,null,o.a.createElement(Dn,null,o.a.createElement(Wi,null,o.a.createElement(Wn,{$full:!0,$direction:"column",id:"content-root"},o.a.createElement(tc,null),o.a.createElement(Wn,{$full:!0,style:{height:"calc(100% - 70px)",width:"100vw",overflow:"auto"}},o.a.createElement(No,null),o.a.createElement(Wn,{$full:!0,style:{overflow:"auto"}},o.a.createElement(s.c,null,Fo("/battle",(function(){return o.a.createElement(oo,null,o.a.createElement(Qo,null))})),Fo("/characters/:id",(function(){return o.a.createElement(yo,null)})),Fo("/",(function(){return o.a.createElement(yo,null)})))),o.a.createElement(Ho,null)))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(303);var ac=n(188),rc=n(186),ic=new ac.a,oc=Object(Te.e)(Object(Te.c)({rolls:Cn,parties:yn}),Object(Te.d)(Object(Te.a)(rc.a)));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ie.a,{store:oc},o.a.createElement(Bn.a,{value:ic,debug:void 0,debugAfterHydration:!0},o.a.createElement(Lo.a,null,o.a.createElement(nc,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[190,1,2]]]);
//# sourceMappingURL=main.ec233216.chunk.js.map